(window._bee_jsLoaded=window._bee_jsLoaded||{})["phone_base.all.js"]=1;
/*![thirdpart/jweixin-1.0.0.js]*/!function(e,n){"function"==typeof define&&(define.amd||define.cmd)?define(function(){return n(e)}):n(e,!0)}(this,function(e,n){function i(n,i,t){e.WeixinJSBridge?WeixinJSBridge.invoke(n,o(i),function(e){c(n,e,t)}):d(n,t)}function t(n,i,t){e.WeixinJSBridge?WeixinJSBridge.on(n,function(e){t&&t.trigger&&t.trigger(e),c(n,e,i)}):t?d(n,t):d(n,i)}function o(e){return e=e||{},e.appId=L.appId,e.verifyAppId=L.appId,e.verifySignType="sha1",e.verifyTimestamp=L.timestamp+"",e.verifyNonceStr=L.nonceStr,e.verifySignature=L.signature,e}function r(e){return{timeStamp:e.timestamp+"",nonceStr:e.nonceStr,package:e.package,paySign:e.paySign,signType:e.signType||"SHA1"}}function c(e,n,i){var t,o,r;switch(delete n.err_code,delete n.err_desc,delete n.err_detail,t=n.errMsg,t||(t=n.err_msg,delete n.err_msg,t=s(e,t),n.errMsg=t),i=i||{},i._complete&&(i._complete(n),delete i._complete),t=n.errMsg||"",L.debug&&!i.isInnerInvoke&&alert(JSON.stringify(n)),o=t.indexOf(":"),r=t.substring(o+1)){case"ok":i.success&&i.success(n);break;case"cancel":i.cancel&&i.cancel(n);break;default:i.fail&&i.fail(n)}i.complete&&i.complete(n)}function s(e,n){var i,t,o=e,r=g[o];return r&&(o=r),i="ok",n&&(t=n.indexOf(":"),i=n.substring(t+1),"confirm"==i&&(i="ok"),"failed"==i&&(i="fail"),-1!=i.indexOf("failed_")&&(i=i.substring(7)),-1!=i.indexOf("fail_")&&(i=i.substring(5)),i=i.replace(/_/g," "),i=i.toLowerCase(),("access denied"==i||"no permission to execute"==i)&&(i="permission denied"),"config"==o&&"function not exist"==i&&(i="ok"),""==i&&(i="fail")),n=o+":"+i}function a(e){var n,i,t,o;if(e){for(n=0,i=e.length;i>n;++n)t=e[n],o=m[t],o&&(e[n]=o);return e}}function d(e,n){if(!(!L.debug||n&&n.isInnerInvoke)){var i=g[e];i&&(e=i),n&&n._complete&&delete n._complete,console.log('"'+e+'",',n||"")}}function u(){b.isPreVerifyOk||w||I||L.debug||"6.0.2">M||b.systemType<0||V||(V=!0,b.appId=L.appId,b.initTime=P.initEndTime-P.initStartTime,b.preVerifyTime=P.preVerifyEndTime-P.preVerifyStartTime,A.getNetworkType({isInnerInvoke:!0,success:function(e){var n,i;b.networkType=e.networkType,n="http://open.weixin.qq.com/sdk/report?v="+b.version+"&o="+b.isPreVerifyOk+"&s="+b.systemType+"&c="+b.clientVersion+"&a="+b.appId+"&n="+b.networkType+"&i="+b.initTime+"&p="+b.preVerifyTime+"&u="+b.url,i=new Image,i.src=n}}))}function l(){return(new Date).getTime()}function p(n){T&&(e.WeixinJSBridge?n():h.addEventListener&&h.addEventListener("WeixinJSBridgeReady",n,!1))}function f(){A.invoke||(A.invoke=function(n,i,t){e.WeixinJSBridge&&WeixinJSBridge.invoke(n,o(i),t)},A.on=function(n,i){e.WeixinJSBridge&&WeixinJSBridge.on(n,i)})}var m,g,h,y,_,S,w,I,T,v,k,M,V,x,P,b,L,O,W,A;if(!e.jWeixin)return m={config:"preVerifyJSAPI",onMenuShareTimeline:"menu:share:timeline",onMenuShareAppMessage:"menu:share:appmessage",onMenuShareQQ:"menu:share:qq",onMenuShareWeibo:"menu:share:weiboApp",onMenuShareQZone:"menu:share:QZone",previewImage:"imagePreview",getLocation:"geoLocation",openProductSpecificView:"openProductViewWithPid",addCard:"batchAddCard",openCard:"batchViewCard",chooseWXPay:"getBrandWCPayRequest"},g=function(){var e,n={};for(e in m)n[m[e]]=e;return n}(),h=e.document,y=h.title,_=navigator.userAgent.toLowerCase(),S=navigator.platform.toLowerCase(),w=!(!S.match("mac")&&!S.match("win")),I=-1!=_.indexOf("wxdebugger"),T=-1!=_.indexOf("micromessenger"),v=-1!=_.indexOf("android"),k=-1!=_.indexOf("iphone")||-1!=_.indexOf("ipad"),M=function(){var e=_.match(/micromessenger\/(\d+\.\d+\.\d+)/)||_.match(/micromessenger\/(\d+\.\d+)/);return e?e[1]:""}(),V=!1,x=!1,P={initStartTime:l(),initEndTime:0,preVerifyStartTime:0,preVerifyEndTime:0},b={version:1,appId:"",initTime:0,preVerifyTime:0,networkType:"",isPreVerifyOk:1,systemType:k?1:v?2:-1,clientVersion:M,url:encodeURIComponent(location.href)},L={},O={_completes:[]},W={state:0,data:{}},p(function(){P.initEndTime=l()}),A={config:function(e){L=e,d("config",e);var n=L.check!==!1;p(function(){var e,t,o;if(n)i(m.config,{verifyJsApiList:a(L.jsApiList)},function(){O._complete=function(e){P.preVerifyEndTime=l(),W.state=1,W.data=e},O.success=function(){b.isPreVerifyOk=0},O.fail=function(e){O._fail?O._fail(e):W.state=-1};var e=O._completes;return e.push(function(){u()}),O.complete=function(){for(var n=0,i=e.length;i>n;++n)e[n]();O._completes=[]},O}()),P.preVerifyStartTime=l();else{for(W.state=1,e=O._completes,t=0,o=e.length;o>t;++t)e[t]();O._completes=[]}}),L.beta&&f()},ready:function(e){0!=W.state?e():(O._completes.push(e),!T&&L.debug&&e())},error:function(e){"6.0.2">M||x||(x=!0,-1==W.state?e(W.data):O._fail=e)},checkJsApi:function(e){var n=function(e){var n,i,t=e.checkResult;for(n in t)i=g[n],i&&(t[i]=t[n],delete t[n]);return e};i("checkJsApi",{jsApiList:a(e.jsApiList)},function(){return e._complete=function(e){if(v){var i=e.checkResult;i&&(e.checkResult=JSON.parse(i))}e=n(e)},e}())},onMenuShareTimeline:function(e){t(m.onMenuShareTimeline,{complete:function(){i("shareTimeline",{title:e.title||y,desc:e.title||y,img_url:e.imgUrl||"",link:e.link||location.href,type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareAppMessage:function(e){t(m.onMenuShareAppMessage,{complete:function(){i("sendAppMessage",{title:e.title||y,desc:e.desc||"",link:e.link||location.href,img_url:e.imgUrl||"",type:e.type||"link",data_url:e.dataUrl||""},e)}},e)},onMenuShareQQ:function(e){t(m.onMenuShareQQ,{complete:function(){i("shareQQ",{title:e.title||y,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareWeibo:function(e){t(m.onMenuShareWeibo,{complete:function(){i("shareWeiboApp",{title:e.title||y,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},onMenuShareQZone:function(e){t(m.onMenuShareQZone,{complete:function(){i("shareQZone",{title:e.title||y,desc:e.desc||"",img_url:e.imgUrl||"",link:e.link||location.href},e)}},e)},startRecord:function(e){i("startRecord",{},e)},stopRecord:function(e){i("stopRecord",{},e)},onVoiceRecordEnd:function(e){t("onVoiceRecordEnd",e)},playVoice:function(e){i("playVoice",{localId:e.localId},e)},pauseVoice:function(e){i("pauseVoice",{localId:e.localId},e)},stopVoice:function(e){i("stopVoice",{localId:e.localId},e)},onVoicePlayEnd:function(e){t("onVoicePlayEnd",e)},uploadVoice:function(e){i("uploadVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadVoice:function(e){i("downloadVoice",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},translateVoice:function(e){i("translateVoice",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},chooseImage:function(e){i("chooseImage",{scene:"1|2",count:e.count||9,sizeType:e.sizeType||["original","compressed"],sourceType:e.sourceType||["album","camera"]},function(){return e._complete=function(e){if(v){var n=e.localIds;n&&(e.localIds=JSON.parse(n))}},e}())},previewImage:function(e){i(m.previewImage,{current:e.current,urls:e.urls},e)},uploadImage:function(e){i("uploadImage",{localId:e.localId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},downloadImage:function(e){i("downloadImage",{serverId:e.serverId,isShowProgressTips:0==e.isShowProgressTips?0:1},e)},getNetworkType:function(e){var n=function(e){var n,i,t,o=e.errMsg;if(e.errMsg="getNetworkType:ok",n=e.subtype,delete e.subtype,n)e.networkType=n;else switch(i=o.indexOf(":"),t=o.substring(i+1)){case"wifi":case"edge":case"wwan":e.networkType=t;break;default:e.errMsg="getNetworkType:fail"}return e};i("getNetworkType",{},function(){return e._complete=function(e){e=n(e)},e}())},openLocation:function(e){i("openLocation",{latitude:e.latitude,longitude:e.longitude,name:e.name||"",address:e.address||"",scale:e.scale||28,infoUrl:e.infoUrl||""},e)},getLocation:function(e){e=e||{},i(m.getLocation,{type:e.type||"wgs84"},function(){return e._complete=function(e){delete e.type},e}())},hideOptionMenu:function(e){i("hideOptionMenu",{},e)},showOptionMenu:function(e){i("showOptionMenu",{},e)},closeWindow:function(e){e=e||{},i("closeWindow",{},e)},hideMenuItems:function(e){i("hideMenuItems",{menuList:e.menuList},e)},showMenuItems:function(e){i("showMenuItems",{menuList:e.menuList},e)},hideAllNonBaseMenuItem:function(e){i("hideAllNonBaseMenuItem",{},e)},showAllNonBaseMenuItem:function(e){i("showAllNonBaseMenuItem",{},e)},scanQRCode:function(e){e=e||{},i("scanQRCode",{needResult:e.needResult||0,scanType:e.scanType||["qrCode","barCode"]},function(){return e._complete=function(e){var n,i;k&&(n=e.resultStr,n&&(i=JSON.parse(n),e.resultStr=i&&i.scan_code&&i.scan_code.scan_result))},e}())},openProductSpecificView:function(e){i(m.openProductSpecificView,{pid:e.productId,view_type:e.viewType||0,ext_info:e.extInfo},e)},addCard:function(e){var n,t,o,r,c=e.cardList,s=[];for(n=0,t=c.length;t>n;++n)o=c[n],r={card_id:o.cardId,card_ext:o.cardExt},s.push(r);i(m.addCard,{card_list:s},function(){return e._complete=function(e){var n,i,t,o=e.card_list;if(o){for(o=JSON.parse(o),n=0,i=o.length;i>n;++n)t=o[n],t.cardId=t.card_id,t.cardExt=t.card_ext,t.isSuccess=!!t.is_succ,delete t.card_id,delete t.card_ext,delete t.is_succ;e.cardList=o,delete e.card_list}},e}())},chooseCard:function(e){i("chooseCard",{app_id:L.appId,location_id:e.shopId||"",sign_type:e.signType||"SHA1",card_id:e.cardId||"",card_type:e.cardType||"",card_sign:e.cardSign,time_stamp:e.timestamp+"",nonce_str:e.nonceStr},function(){return e._complete=function(e){e.cardList=e.choose_card_info,delete e.choose_card_info},e}())},openCard:function(e){var n,t,o,r,c=e.cardList,s=[];for(n=0,t=c.length;t>n;++n)o=c[n],r={card_id:o.cardId,code:o.code},s.push(r);i(m.openCard,{card_list:s},e)},chooseWXPay:function(e){i(m.chooseWXPay,r(e),e)}},n&&(e.wx=e.jWeixin=A),A});
/*![thirdpart/iscroll/iscroll.js]*//*!
 * iScroll v4.2.5 ~ Copyright (c) 2012 Matteo Spinelli, http://cubiq.org
 * Released under MIT license, http://cubiq.org/license
 */
!function(o,t){function e(o){return""===n?o:(o=o.charAt(0).toUpperCase()+o.substr(1),n+o)}var r=Math,l=t.createElement("div").style,n=function(){for(var o,t="t,webkitT,MozT,msT,OT".split(","),e=0,r=t.length;e<r;e++)if(o=t[e]+"ransform",o in l)return t[e].substr(0,t[e].length-1);return!1}(),s=n?"-"+n.toLowerCase()+"-":"",i=e("transform"),a=e("transitionProperty"),c=e("transitionDuration"),p=e("transformOrigin"),m=e("transitionTimingFunction"),h=e("transitionDelay"),u=/android/gi.test(navigator.appVersion),S=/iphone|ipad/gi.test(navigator.appVersion),d=/hp-tablet/gi.test(navigator.appVersion),b=e("perspective")in l,f="ontouchstart"in o&&!d,x=n!==!1,g=e("transition")in l,y="onorientationchange"in o?"orientationchange":"resize",v=f?"touchstart":"mousedown",T=f?"touchmove":"mousemove",Y=f?"touchend":"mouseup",X=f?"touchcancel":"mouseup",_=function(){if(n===!1)return!1;var o={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return o[n]}(),w=function(){return o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||o.msRequestAnimationFrame||function(o){return setTimeout(o,1)}}(),z=function(){return o.cancelRequestAnimationFrame||o.cancelAnimationFrame||o.webkitCancelAnimationFrame||o.webkitCancelRequestAnimationFrame||o.mozCancelRequestAnimationFrame||o.oCancelRequestAnimationFrame||o.msCancelRequestAnimationFrame||clearTimeout}(),M=b?" translateZ(0)":"",E=function(e,r){var l,n=this;n.wrapper="object"==typeof e?e:t.getElementById(e),n.scroller=n.wrapper.children[0],n.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,noPrevent:!1,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:u,hideScrollbar:!0,fadeScrollbar:S&&b,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,onRefresh:null,onBeforeScrollStart:function(o){if(!n.options.noPrevent){for(var t=o.target;1!=t.nodeType;)t=t.parentNode;"SELECT"!=t.tagName&&"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName&&o.preventDefault()}},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null,onAnimate:null};for(l in r)n.options[l]=r[l];n.x=n.options.x,n.y=n.options.y,n.options.useTransform=x&&n.options.useTransform,n.options.hScrollbar=n.options.hScroll&&n.options.hScrollbar,n.options.vScrollbar=n.options.vScroll&&n.options.vScrollbar,n.options.zoom=n.options.useTransform&&n.options.zoom,n.options.useTransition=g&&n.options.useTransition,n.options.zoom&&u&&(M=""),n.scroller.style[a]=n.options.useTransform?s+"transform":"top left",n.scroller.style[c]="0",n.scroller.style[p]="0 0",n.options.hScroll&&(n.wrapper.style.overflowX="hidden"),n.options.vScroll&&(n.wrapper.style.overflowY="hidden"),n.options.useTransition&&(n.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),n.options.useTransform?n.scroller.style[i]="translate("+n.x+"px,"+n.y+"px)"+M:n.scroller.style.cssText+=";position:absolute;top:"+n.y+"px;left:"+n.x+"px",n.options.useTransition&&(n.options.fixedScrollbar=!0),n.refresh(),n._bind(y,o),n._bind(v),f||"none"!=n.options.wheelAction&&(n._bind("DOMMouseScroll"),n._bind("mousewheel")),n.options.checkDOMChanges&&(n.checkDOMTime=setInterval(function(){n._checkDOMChanges()},500))};E.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(o){var t=this;switch(o.type){case v:if(!f&&0!==o.button)return;t._start(o);break;case T:t._move(o);break;case Y:case X:t._end(o);break;case y:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(o);break;case _:t._transitionEnd(o)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_scrollbar:function(o){var e,l=this;return l[o+"Scrollbar"]?(l[o+"ScrollbarWrapper"]||(e=t.createElement("div"),l.options.scrollbarClass?e.className=l.options.scrollbarClass+o.toUpperCase():e.style.cssText="position:absolute;z-index:100;"+("h"==o?"height:5px;bottom:1px;left:2px;right:"+(l.vScrollbar?"5":"2")+"px":"width:5px;bottom:"+(l.hScrollbar?"5":"2")+"px;top:2px;right:1px"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:opacity;"+s+"transition-duration:"+(l.options.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(l.options.hideScrollbar?"0":"1"),l.wrapper.appendChild(e),l[o+"ScrollbarWrapper"]=e,e=t.createElement("div"),l.options.scrollbarClass||(e.style.cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.3);border:1px solid rgba(255,255,255,0.15);"+s+"background-clip:padding-box;"+s+"box-sizing:border-box;"+("h"==o?"height:6px":"width:6px")+";"+s+"border-radius:3px;border-radius:3px;"+s+"transform-origin:center top;"),e.style.cssText+=";pointer-events:none;"+s+"transition-property:"+s+"transform;"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+s+"transition-duration:0;"+s+"transform: translate(0,0)"+M,l.options.useTransition&&(e.style.cssText+=";"+s+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),l[o+"ScrollbarWrapper"].appendChild(e),l[o+"ScrollbarIndicator"]=e),"h"==o?(l.hScrollbarSize=l.hScrollbarWrapper.clientWidth,l.hScrollbarIndicatorSize=r.max(r.round(l.hScrollbarSize*l.hScrollbarSize/l.scrollerW),8),l.hScrollbarIndicator.style.width=2*l.hScrollbarIndicatorSize+"px",l.hScrollbarMaxScroll=l.hScrollbarSize-l.hScrollbarIndicatorSize,l.hScrollbarProp=l.hScrollbarMaxScroll/l.maxScrollX):(l.vScrollbarSize=l.vScrollbarWrapper.clientHeight,l.vScrollbarIndicatorSize=r.max(r.round(l.vScrollbarSize*l.vScrollbarSize/l.scrollerH),8),l.vScrollbarIndicator.style.height=2*l.vScrollbarIndicatorSize+"px",l.vScrollbarMaxScroll=l.vScrollbarSize-l.vScrollbarIndicatorSize,l.vScrollbarProp=l.vScrollbarMaxScroll/l.maxScrollY),void l._scrollbarPos(o,!0)):void(l[o+"ScrollbarWrapper"]&&(x&&(l[o+"ScrollbarIndicator"].style[i]=""),l[o+"ScrollbarWrapper"].parentNode.removeChild(l[o+"ScrollbarWrapper"]),l[o+"ScrollbarWrapper"]=null,l[o+"ScrollbarIndicator"]=null))},_resize:function(){var o=this;setTimeout(function(){o.refresh()},u?200:0)},_pos:function(o,t){this.zoomed||(o=this.hScroll?o:0,t=this.vScroll?t:0,this.options.useTransform?this.scroller.style[i]="translate("+o+"px,"+t+"px) scale("+this.scale+")"+M:(o=r.round(o),t=r.round(t),this.scroller.style.left=o+"px",this.scroller.style.top=t+"px"),this.x=o,this.y=t,this._scrollbarPos("h"),this._scrollbarPos("v"))},_scrollbarPos:function(o,t){var e,l=this,n="h"==o?l.x:l.y;l[o+"Scrollbar"]&&(n=l[o+"ScrollbarProp"]*n,n<0?(l.options.fixedScrollbar||(e=l[o+"ScrollbarIndicatorSize"]+r.round(3*n),e<8&&(e=8),l[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=2*e+"px"),n=0):n>l[o+"ScrollbarMaxScroll"]&&(l.options.fixedScrollbar?n=l[o+"ScrollbarMaxScroll"]:(e=l[o+"ScrollbarIndicatorSize"]-r.round(3*(n-l[o+"ScrollbarMaxScroll"])),e<8&&(e=8),l[o+"ScrollbarIndicator"].style["h"==o?"width":"height"]=2*e+"px",n=l[o+"ScrollbarMaxScroll"]+(l[o+"ScrollbarIndicatorSize"]-e))),l[o+"ScrollbarWrapper"].style[h]="0",l[o+"ScrollbarWrapper"].style.opacity=t&&l.options.hideScrollbar?"0":"1",l[o+"ScrollbarIndicator"].style[i]="translate("+("h"==o?n+"px,0)":"0,"+n+"px) scale(.5) ")+M)},_start:function(t){var e,l,n,s,a,c=this,p=f?t.touches[0]:t;c.enabled&&(c.options.onBeforeScrollStart&&c.options.onBeforeScrollStart.call(c,t),(c.options.useTransition||c.options.zoom)&&c._transitionTime(0),c.moved=!1,c.animating=!1,c.zoomed=!1,c.distX=0,c.distY=0,c.absDistX=0,c.absDistY=0,c.dirX=0,c.dirY=0,c.options.zoom&&f&&t.touches.length>1&&(s=r.abs(t.touches[0].pageX-t.touches[1].pageX),a=r.abs(t.touches[0].pageY-t.touches[1].pageY),c.touchesDistStart=r.sqrt(s*s+a*a),c.originX=r.abs(t.touches[0].pageX+t.touches[1].pageX-2*c.wrapperOffsetLeft)/2-c.x,c.originY=r.abs(t.touches[0].pageY+t.touches[1].pageY-2*c.wrapperOffsetTop)/2-c.y,c.options.onZoomStart&&c.options.onZoomStart.call(c,t)),c.options.momentum&&(c.options.useTransform?(e=getComputedStyle(c.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),l=+(e[12]||e[4]),n=+(e[13]||e[5])):(l=+getComputedStyle(c.scroller,null).left.replace(/[^0-9-]/g,""),n=+getComputedStyle(c.scroller,null).top.replace(/[^0-9-]/g,"")),l==c.x&&n==c.y||(c.options.useTransition?c._unbind(_):z(c.aniTime),c.steps=[],c._pos(l,n),c.options.onScrollEnd&&c.options.onScrollEnd.call(c))),c.absStartX=c.x,c.absStartY=c.y,c.startX=c.x,c.startY=c.y,c.pointX=p.pageX,c.pointY=p.pageY,c.startTime=t.timeStamp||Date.now(),c.options.onScrollStart&&c.options.onScrollStart.call(c,t),c._bind(T,o),c._bind(Y,o),c._bind(X,o))},_move:function(o){var t,e,l,n=this,s=f?o.touches[0]:o,a=s.pageX-n.pointX,c=s.pageY-n.pointY,p=n.x+a,m=n.y+c,h=o.timeStamp||Date.now();return navigator.userAgent.indexOf("iPhone")>0&&n.options.bounce&&(clearTimeout(n._outfixTimeout),(s.pageY<0||n.bodyClientHeight>100&&s.pageY>n.bodyClientHeight)&&(n._outfixTimeout=setTimeout(function(){n._end(o)},300))),n.options.onBeforeScrollMove&&n.options.onBeforeScrollMove.call(n,o),n.options.zoom&&f&&o.touches.length>1?(t=r.abs(o.touches[0].pageX-o.touches[1].pageX),e=r.abs(o.touches[0].pageY-o.touches[1].pageY),n.touchesDist=r.sqrt(t*t+e*e),n.zoomed=!0,l=1/n.touchesDistStart*n.touchesDist*this.scale,l<n.options.zoomMin?l=.5*n.options.zoomMin*Math.pow(2,l/n.options.zoomMin):l>n.options.zoomMax&&(l=2*n.options.zoomMax*Math.pow(.5,n.options.zoomMax/l)),n.lastScale=l/this.scale,p=this.originX-this.originX*n.lastScale+this.x,m=this.originY-this.originY*n.lastScale+this.y,this.scroller.style[i]="translate("+p+"px,"+m+"px) scale("+l+")"+M,void(n.options.onZoom&&n.options.onZoom.call(n,o))):(n.pointX=s.pageX,n.pointY=s.pageY,(p>0||p<n.maxScrollX)&&(p=n.options.bounce?n.x+a/2:p>=0||n.maxScrollX>=0?0:n.maxScrollX),(m>n.minScrollY||m<n.maxScrollY)&&(m=n.options.bounce?n.y+c/2:m>=n.minScrollY||n.maxScrollY>=0?n.minScrollY:n.maxScrollY),n.distX+=a,n.distY+=c,n.absDistX=r.abs(n.distX),n.absDistY=r.abs(n.distY),void(n.absDistX<6&&n.absDistY<6||(n.options.lockDirection&&(n.absDistX>n.absDistY+5?(m=n.y,c=0):n.absDistY>n.absDistX+5&&(p=n.x,a=0)),n.moved=!0,n.dirMoved=!1,(p!=n.x&&n.options.hScroll||m!=n.y&&n.options.vScroll)&&(n.dirMoved=!0),n._pos(p,m),n.dirX=a>0?-1:a<0?1:0,n.dirY=c>0?-1:c<0?1:0,h-n.startTime>300&&(n.startTime=h,n.startX=n.x,n.startY=n.y),n.options.onScrollMove&&n.options.onScrollMove.call(n,o))))},_end:function(e){if(!f||0===e.touches.length||e.type==T){var l,n,s,a,p,m,h,u=this,S=f?e.changedTouches[0]:e,d={dist:0,time:0},b={dist:0,time:0},x=(e.timeStamp||Date.now())-u.startTime,g=u.x,y=u.y;if(u._unbind(T,o),u._unbind(Y,o),u._unbind(X,o),u.options.onBeforeScrollEnd&&u.options.onBeforeScrollEnd.call(u,e),u.zoomed)return h=u.scale*u.lastScale,h=Math.max(u.options.zoomMin,h),h=Math.min(u.options.zoomMax,h),u.lastScale=h/u.scale,u.scale=h,u.x=u.originX-u.originX*u.lastScale+u.x,u.y=u.originY-u.originY*u.lastScale+u.y,u.scroller.style[c]="200ms",u.scroller.style[i]="translate("+u.x+"px,"+u.y+"px) scale("+u.scale+")"+M,u.zoomed=!1,u.refresh(),void(u.options.onZoomEnd&&u.options.onZoomEnd.call(u,e));if(!u.moved)return f&&(u.doubleTapTimer&&u.options.zoom?(clearTimeout(u.doubleTapTimer),u.doubleTapTimer=null,u.options.onZoomStart&&u.options.onZoomStart.call(u,e),u.zoom(u.pointX,u.pointY,1==u.scale?u.options.doubleTapZoom:1),u.options.onZoomEnd&&setTimeout(function(){u.options.onZoomEnd.call(u,e)},200)):this.options.handleClick&&(u.doubleTapTimer=setTimeout(function(){for(u.doubleTapTimer=null,l=S.target;1!=l.nodeType;)l=l.parentNode;"SELECT"!=l.tagName&&"INPUT"!=l.tagName&&"TEXTAREA"!=l.tagName&&(n=t.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,e.view,1,S.screenX,S.screenY,S.clientX,S.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n._fake=!0,l.dispatchEvent(n))},u.options.zoom?250:0))),u._resetPos(400),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e));if(x<300&&u.options.momentum&&(d=g?u._momentum(g-u.startX,x,-u.x,u.scrollerW-u.wrapperW+u.x,u.options.bounce?u.wrapperW:0):d,b=y?u._momentum(y-u.startY,x,-u.y,u.maxScrollY<0?u.scrollerH-u.wrapperH+u.y-u.minScrollY:0,u.options.bounce?u.wrapperH:0):b,g=u.x+d.dist,y=u.y+b.dist,(u.x>0&&g>0||u.x<u.maxScrollX&&g<u.maxScrollX)&&(d={dist:0,time:0}),(u.y>u.minScrollY&&y>u.minScrollY||u.y<u.maxScrollY&&y<u.maxScrollY)&&(b={dist:0,time:0})),d.dist||b.dist)return p=r.max(r.max(d.time,b.time),10),u.options.snap&&(s=g-u.absStartX,a=y-u.absStartY,r.abs(s)<u.options.snapThreshold&&r.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(m=u._snap(g,y),g=m.x,y=m.y,p=r.max(m.time,p))),u.scrollTo(r.round(g),r.round(y),p),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e));if(u.options.snap)return s=g-u.absStartX,a=y-u.absStartY,r.abs(s)<u.options.snapThreshold&&r.abs(a)<u.options.snapThreshold?u.scrollTo(u.absStartX,u.absStartY,200):(m=u._snap(u.x,u.y),m.x==u.x&&m.y==u.y||u.scrollTo(m.x,m.y,m.time)),void(u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e));u._resetPos(200),u.options.onTouchEnd&&u.options.onTouchEnd.call(u,e)}},_resetPos:function(o){var t=this,e=t.x>=0?0:t.x<t.maxScrollX?t.maxScrollX:t.x,r=t.y>=t.minScrollY||t.maxScrollY>0?t.minScrollY:t.y<t.maxScrollY?t.maxScrollY:t.y;return e==t.x&&r==t.y?(t.moved&&(t.moved=!1,t.options.onScrollEnd&&t.options.onScrollEnd.call(t)),t.hScrollbar&&t.options.hideScrollbar&&("webkit"==n&&(t.hScrollbarWrapper.style[h]="300ms"),t.hScrollbarWrapper.style.opacity="0"),void(t.vScrollbar&&t.options.hideScrollbar&&("webkit"==n&&(t.vScrollbarWrapper.style[h]="300ms"),t.vScrollbarWrapper.style.opacity="0"))):void t.scrollTo(e,r,o||0)},_wheel:function(o){var t,e,r,l,n,s=this;if("wheelDeltaX"in o)t=o.wheelDeltaX/12,e=o.wheelDeltaY/12;else if("wheelDelta"in o)t=e=o.wheelDelta/12;else{if(!("detail"in o))return;t=e=3*-o.detail}return"zoom"==s.options.wheelAction?(n=s.scale*Math.pow(2,1/3*(e?e/Math.abs(e):0)),n<s.options.zoomMin&&(n=s.options.zoomMin),n>s.options.zoomMax&&(n=s.options.zoomMax),void(n!=s.scale&&(!s.wheelZoomCount&&s.options.onZoomStart&&s.options.onZoomStart.call(s,o),s.wheelZoomCount++,s.zoom(o.pageX,o.pageY,n,400),setTimeout(function(){s.wheelZoomCount--,!s.wheelZoomCount&&s.options.onZoomEnd&&s.options.onZoomEnd.call(s,o)},400)))):(r=s.x+t,l=s.y+e,r>0?r=0:r<s.maxScrollX&&(r=s.maxScrollX),l>s.minScrollY?l=s.minScrollY:l<s.maxScrollY&&(l=s.maxScrollY),void(s.maxScrollY<0&&s.scrollTo(r,l,0)))},_transitionEnd:function(o){var t=this;o.target==t.scroller&&(t._unbind(_),t._startAni())},_startAni:function(){var o,t,e,l=this,n=l.x,s=l.y,i=Date.now();if(!l.animating){if(!l.steps.length)return void l._resetPos(400);if(o=l.steps.shift(),o.x==n&&o.y==s&&(o.time=0),l.animating=!0,l.moved=!0,l.options.useTransition)return l._transitionTime(o.time),l._pos(o.x,o.y),l.animating=!1,void(o.time?l._bind(_):l._resetPos(0));e=function(){var a,c,p=Date.now();return p>=i+o.time?(l._pos(o.x,o.y),l.animating=!1,l.options.onAnimationEnd&&l.options.onAnimationEnd.call(l),void l._startAni()):(p=(p-i)/o.time-1,t=r.sqrt(1-p*p),a=(o.x-n)*t+n,c=(o.y-s)*t+s,l._pos(a,c),l.animating&&(l.aniTime=w(e)),void(l.options.onAnimate&&l.options.onAnimate.call(l)))},e()}},_transitionTime:function(o){o+="ms",this.scroller.style[c]=o,this.hScrollbar&&(this.hScrollbarIndicator.style[c]=o),this.vScrollbar&&(this.vScrollbarIndicator.style[c]=o)},_momentum:function(o,t,e,l,n){var s=6e-4,i=r.abs(o)/t,a=i*i/(2*s),c=0,p=0;return o>0&&a>e?(p=n/(6/(a/i*s)),e+=p,i=i*e/a,a=e):o<0&&a>l&&(p=n/(6/(a/i*s)),l+=p,i=i*l/a,a=l),a*=o<0?-1:1,c=i/s,{dist:a,time:r.round(c)}},_offset:function(o){for(var t=-o.offsetLeft,e=-o.offsetTop;o=o.offsetParent;)t-=o.offsetLeft,e-=o.offsetTop;return o!=this.wrapper&&(t*=this.scale,e*=this.scale),{left:t,top:e}},_snap:function(o,t){var e,l,n,s,i,a,c=this;for(n=c.pagesX.length-1,e=0,l=c.pagesX.length;e<l;e++)if(o>=c.pagesX[e]){n=e;break}for(n==c.currPageX&&n>0&&c.dirX<0&&n--,o=c.pagesX[n],i=r.abs(o-c.pagesX[c.currPageX]),i=i?r.abs(c.x-o)/i*500:0,c.currPageX=n,n=c.pagesY.length-1,e=0;e<n;e++)if(t>=c.pagesY[e]){n=e;break}return n==c.currPageY&&n>0&&c.dirY<0&&n--,t=c.pagesY[n],a=r.abs(t-c.pagesY[c.currPageY]),a=a?r.abs(c.y-t)/a*500:0,c.currPageY=n,s=r.round(r.max(i,a))||200,{x:o,y:t,time:s}},_bind:function(o,t,e){(t||this.scroller).addEventListener(o,this,!!e)},_unbind:function(o,t,e){(t||this.scroller).removeEventListener(o,this,!!e)},destroy:function(){var t=this;t.scroller.style[i]="",t.hScrollbar=!1,t.vScrollbar=!1,t._scrollbar("h"),t._scrollbar("v"),t._unbind(y,o),t._unbind(v),t._unbind(T,o),t._unbind(Y,o),t._unbind(X,o),t.options.hasTouch||(t._unbind("DOMMouseScroll"),t._unbind("mousewheel")),t.options.useTransition&&t._unbind(_),t.options.checkDOMChanges&&clearInterval(t.checkDOMTime),t.options.onDestroy&&t.options.onDestroy.call(t)},refresh:function(){var o,t,e,l,n=this,s=0,i=0;if(n.scale<n.options.zoomMin&&(n.scale=n.options.zoomMin),n.wrapperW=n.wrapper.clientWidth||1,n.wrapperH=n.wrapper.clientHeight||1,n.minScrollY=-n.options.topOffset||0,n.scrollerW=r.round(n.scroller.offsetWidth*n.scale),n.scrollerH=r.round((n.scroller.offsetHeight+n.minScrollY)*n.scale),n.maxScrollX=n.wrapperW-n.scrollerW,n.maxScrollY=n.wrapperH-n.scrollerH+n.minScrollY,n.dirX=0,n.dirY=0,n.options.onRefresh&&n.options.onRefresh.call(n),n.hScroll=n.options.hScroll&&n.maxScrollX<0,n.vScroll=n.options.vScroll&&(!n.options.bounceLock&&!n.hScroll||n.scrollerH>n.wrapperH),n.hScrollbar=n.hScroll&&n.options.hScrollbar,n.vScrollbar=n.vScroll&&n.options.vScrollbar&&n.scrollerH>n.wrapperH,o=n._offset(n.wrapper),n.wrapperOffsetLeft=-o.left,n.wrapperOffsetTop=-o.top,"string"==typeof n.options.snap)for(n.pagesX=[],n.pagesY=[],l=n.scroller.querySelectorAll(n.options.snap),t=0,e=l.length;t<e;t++)s=n._offset(l[t]),s.left+=n.wrapperOffsetLeft,s.top+=n.wrapperOffsetTop,n.pagesX[t]=s.left<n.maxScrollX?n.maxScrollX:s.left*n.scale,n.pagesY[t]=s.top<n.maxScrollY?n.maxScrollY:s.top*n.scale;else if(n.options.snap){for(n.pagesX=[];s>=n.maxScrollX;)n.pagesX[i]=s,s-=n.wrapperW,i++;for(n.maxScrollX%n.wrapperW&&(n.pagesX[n.pagesX.length]=n.maxScrollX-n.pagesX[n.pagesX.length-1]+n.pagesX[n.pagesX.length-1]),s=0,i=0,n.pagesY=[];s>=n.maxScrollY;)n.pagesY[i]=s,s-=n.wrapperH,i++;n.maxScrollY%n.wrapperH&&(n.pagesY[n.pagesY.length]=n.maxScrollY-n.pagesY[n.pagesY.length-1]+n.pagesY[n.pagesY.length-1])}n._scrollbar("h"),n._scrollbar("v"),n.zoomed||(n.scroller.style[c]="0",n._resetPos(400)),n.bodyClientHeight=document.body.clientHeight},scrollTo:function(o,t,e,r){var l,n,s=this,i=o;for(s.stop(),i.length||(i=[{x:o,y:t,time:e,relative:r}]),l=0,n=i.length;l<n;l++)i[l].relative&&(i[l].x=s.x-i[l].x,i[l].y=s.y-i[l].y),s.steps.push({x:i[l].x,y:i[l].y,time:i[l].time||0});s._startAni()},scrollToElement:function(o,t,e){var l,n=this;o=o.nodeType?o:n.scroller.querySelector(o),o&&(e=e||{top:0,left:0},l=n._offset(o),l.left+=n.wrapperOffsetLeft+e.left||0,l.top+=n.wrapperOffsetTop+e.top||0,l.left=l.left>0?0:l.left<n.maxScrollX?n.maxScrollX:l.left,l.top=l.top>n.minScrollY?n.minScrollY:l.top<n.maxScrollY?n.maxScrollY:l.top,t=void 0===t?r.max(2*r.abs(l.left),2*r.abs(l.top)):t,n.scrollTo(l.left,l.top,t))},scrollToPage:function(o,t,e){var r,l,n=this;e=void 0===e?400:e,n.options.onScrollStart&&n.options.onScrollStart.call(n),n.options.snap?(o="next"==o?n.currPageX+1:"prev"==o?n.currPageX-1:o,t="next"==t?n.currPageY+1:"prev"==t?n.currPageY-1:t,o=o<0?0:o>n.pagesX.length-1?n.pagesX.length-1:o,t=t<0?0:t>n.pagesY.length-1?n.pagesY.length-1:t,n.currPageX=o,n.currPageY=t,r=n.pagesX[o],l=n.pagesY[t]):(r=-n.wrapperW*o,l=-n.wrapperH*t,r<n.maxScrollX&&(r=n.maxScrollX),l<n.maxScrollY&&(l=n.maxScrollY)),n.scrollTo(r,l,e)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(T,o),this._unbind(Y,o),this._unbind(X,o)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(_):z(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},zoom:function(o,t,e,r){var l=this,n=e/l.scale;l.options.useTransform&&(l.zoomed=!0,r=void 0===r?200:r,o=o-l.wrapperOffsetLeft-l.x,t=t-l.wrapperOffsetTop-l.y,l.x=o-o*n+l.x,l.y=t-t*n+l.y,l.scale=e,l.refresh(),l.x=l.x>0?0:l.x<l.maxScrollX?l.maxScrollX:l.x,l.y=l.y>l.minScrollY?l.minScrollY:l.y<l.maxScrollY?l.maxScrollY:l.y,l.scroller.style[c]=r+"ms",l.scroller.style[i]="translate("+l.x+"px,"+l.y+"px) scale("+e+")"+M,l.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},l=null,"undefined"!=typeof exports?exports.iScroll=E:o.iScroll=E}(window,document);
/*![thirdpart/zepto/zepto.js]*/var Zepto=function(){function t(t){return null==t?String(t):J[U.call(t)]||"object"}function n(n){return"function"==t(n)}function e(t){return null!=t&&t==t.window}function i(t){return null!=t&&t.nodeType==t.DOCUMENT_NODE}function r(n){return"object"==t(n)}function o(t){return r(t)&&!e(t)&&Object.getPrototypeOf(t)==Object.prototype}function s(t){return t&&"number"==typeof t.length}function c(t){return $.call(t,function(t){return null!=t})}function u(t){return t.length>0?x.fn.concat.apply([],t):t}function a(t){return t.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()}function l(t){return t in Z?Z[t]:Z[t]=new RegExp("(^|\\s)"+t+"(\\s|$)")}function f(t,n){return"number"!=typeof n||j[a(t)]?n:n+"px"}function h(t){var n,e;return P[t]||(n=L.createElement(t),L.body.appendChild(n),e=getComputedStyle(n,"").getPropertyValue("display"),n.parentNode.removeChild(n),"none"==e&&(e="block"),P[t]=e),P[t]}function p(t){return"children"in t?A.call(t.children):x.map(t.childNodes,function(t){if(1==t.nodeType)return t})}function d(t,n,e){for(E in n)e&&(o(n[E])||G(n[E]))?(o(n[E])&&!o(t[E])&&(t[E]={}),G(n[E])&&!G(t[E])&&(t[E]=[]),d(t[E],n[E],e)):n[E]!==N&&(t[E]=n[E])}function m(t,n){return null==n?x(t):x(t).filter(n)}function g(t,e,i,r){return n(e)?e.call(t,i,r):e}function v(t,n,e){null==e?t.removeAttribute(n):t.setAttribute(n,e)}function y(t,n){var e=t.className||"",i=e&&e.baseVal!==N;return n===N?i?e.baseVal:e:void(i?e.baseVal=n:t.className=n)}function b(t){var n;try{return t?"true"==t||"false"!=t&&("null"==t?null:/^0/.test(t)||isNaN(n=Number(t))?/^[\[\{]/.test(t)?x.parseJSON(t):t:n):t}catch(n){return t}}function w(t,n){n(t);for(var e=0,i=t.childNodes.length;e<i;e++)w(t.childNodes[e],n)}var N,E,x,C,O,S,T=[],A=T.slice,$=T.filter,L=window.document,P={},Z={},j={"column-count":1,columns:1,"font-weight":1,"line-height":1,opacity:1,"z-index":1,zoom:1},M=/^\s*<(\w+|!)[^>]*>/,q=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,z=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,k=/^(?:body|html)$/i,B=/([A-Z])/g,R=["val","css","html","text","data","width","height","offset"],V=["after","prepend","before","append"],_=L.createElement("table"),F=L.createElement("tr"),H={tr:L.createElement("tbody"),tbody:_,thead:_,tfoot:_,td:F,th:F,"*":L.createElement("div")},D=/complete|loaded|interactive/,I=/^[\w-]*$/,J={},U=J.toString,W={},X=L.createElement("div"),Y={tabindex:"tabIndex",readonly:"readOnly",for:"htmlFor",class:"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},G=Array.isArray||function(t){return t instanceof Array};return W.matches=function(t,n){if(!n||!t||1!==t.nodeType)return!1;var e=t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.matchesSelector;if(e)return e.call(t,n);var i,r=t.parentNode,o=!r;return o&&(r=X).appendChild(t),i=~W.qsa(r,n).indexOf(t),o&&X.removeChild(t),i},O=function(t){return t.replace(/-+(.)?/g,function(t,n){return n?n.toUpperCase():""})},S=function(t){return $.call(t,function(n,e){return t.indexOf(n)==e})},W.fragment=function(t,n,e){var i,r,s;return q.test(t)&&(i=x(L.createElement(RegExp.$1))),i||(t.replace&&(t=t.replace(z,"<$1></$2>")),n===N&&(n=M.test(t)&&RegExp.$1),n in H||(n="*"),s=H[n],s.innerHTML=""+t,i=x.each(A.call(s.childNodes),function(){s.removeChild(this)})),o(e)&&(r=x(i),x.each(e,function(t,n){R.indexOf(t)>-1?r[t](n):r.attr(t,n)})),i},W.Z=function(t,n){return t=t||[],t.__proto__=x.fn,t.selector=n||"",t},W.isZ=function(t){return t instanceof W.Z},W.init=function(t,e){var i;if(!t)return W.Z();if("string"==typeof t)if(t=t.trim(),"<"==t[0]&&M.test(t))i=W.fragment(t,RegExp.$1,e),t=null;else{if(e!==N)return x(e).find(t);i=W.qsa(L,t)}else{if(n(t))return x(L).ready(t);if(W.isZ(t))return t;if(G(t))i=c(t);else if(r(t))i=[t],t=null;else if(M.test(t))i=W.fragment(t.trim(),RegExp.$1,e),t=null;else{if(e!==N)return x(e).find(t);i=W.qsa(L,t)}}return W.Z(i,t)},x=function(t,n){return W.init(t,n)},x.extend=function(t){var n,e=A.call(arguments,1);return"boolean"==typeof t&&(n=t,t=e.shift()),e.forEach(function(e){d(t,e,n)}),t},W.qsa=function(t,n){var e,r="#"==n[0],o=!r&&"."==n[0],s=r||o?n.slice(1):n,c=I.test(s);return i(t)&&c&&r?(e=t.getElementById(s))?[e]:[]:1!==t.nodeType&&9!==t.nodeType?[]:A.call(c&&!r?o?t.getElementsByClassName(s):t.getElementsByTagName(n):t.querySelectorAll(n))},x.contains=L.documentElement.contains?function(t,n){return t!==n&&t.contains(n)}:function(t,n){for(;n&&(n=n.parentNode);)if(n===t)return!0;return!1},x.type=t,x.isFunction=n,x.isWindow=e,x.isArray=G,x.isPlainObject=o,x.isEmptyObject=function(t){var n;for(n in t)return!1;return!0},x.inArray=function(t,n,e){return T.indexOf.call(n,t,e)},x.camelCase=O,x.trim=function(t){return null==t?"":String.prototype.trim.call(t)},x.uuid=0,x.support={},x.expr={},x.map=function(t,n){var e,i,r,o=[];if(s(t))for(i=0;i<t.length;i++)e=n(t[i],i),null!=e&&o.push(e);else for(r in t)e=n(t[r],r),null!=e&&o.push(e);return u(o)},x.each=function(t,n){var e,i;if(s(t)){for(e=0;e<t.length;e++)if(n.call(t[e],e,t[e])===!1)return t}else for(i in t)if(n.call(t[i],i,t[i])===!1)return t;return t},x.grep=function(t,n){return $.call(t,n)},window.JSON&&(x.parseJSON=JSON.parse),x.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,n){J["[object "+n+"]"]=n.toLowerCase()}),x.fn={forEach:T.forEach,reduce:T.reduce,push:T.push,sort:T.sort,indexOf:T.indexOf,concat:T.concat,map:function(t){return x(x.map(this,function(n,e){return t.call(n,e,n)}))},slice:function(){return x(A.apply(this,arguments))},ready:function(t){return D.test(L.readyState)&&L.body?t(x):L.addEventListener("DOMContentLoaded",function(){t(x)},!1),this},get:function(t){return t===N?A.call(this):this[t>=0?t:t+this.length]},toArray:function(){return this.get()},size:function(){return this.length},remove:function(){return this.each(function(){null!=this.parentNode&&this.parentNode.removeChild(this)})},each:function(t){return T.every.call(this,function(n,e){return t.call(n,e,n)!==!1}),this},filter:function(t){return n(t)?this.not(this.not(t)):x($.call(this,function(n){return W.matches(n,t)}))},add:function(t,n){return x(S(this.concat(x(t,n))))},is:function(t){return this.length>0&&W.matches(this[0],t)},not:function(t){var e=[];if(n(t)&&t.call!==N)this.each(function(n){t.call(this,n)||e.push(this)});else{var i="string"==typeof t?this.filter(t):s(t)&&n(t.item)?A.call(t):x(t);this.forEach(function(t){i.indexOf(t)<0&&e.push(t)})}return x(e)},has:function(t){return this.filter(function(){return r(t)?x.contains(this,t):x(this).find(t).size()})},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){var t=this[0];return t&&!r(t)?t:x(t)},last:function(){var t=this[this.length-1];return t&&!r(t)?t:x(t)},find:function(t){var n,e=this;return n=t?"object"==typeof t?x(t).filter(function(){var t=this;return T.some.call(e,function(n){return x.contains(n,t)})}):1==this.length?x(W.qsa(this[0],t)):this.map(function(){return W.qsa(this,t)}):[]},closest:function(t,n){var e=this[0],r=!1;for("object"==typeof t&&(r=x(t));e&&!(r?r.indexOf(e)>=0:W.matches(e,t));)e=e!==n&&!i(e)&&e.parentNode;return x(e)},parents:function(t){for(var n=[],e=this;e.length>0;)e=x.map(e,function(t){if((t=t.parentNode)&&!i(t)&&n.indexOf(t)<0)return n.push(t),t});return m(n,t)},parent:function(t){return m(S(this.pluck("parentNode")),t)},children:function(t){return m(this.map(function(){return p(this)}),t)},contents:function(){return this.map(function(){return A.call(this.childNodes)})},siblings:function(t){return m(this.map(function(t,n){return $.call(p(n.parentNode),function(t){return t!==n})}),t)},empty:function(){return this.each(function(){this.innerHTML=""})},pluck:function(t){return x.map(this,function(n){return n[t]})},show:function(){return this.each(function(){"none"==this.style.display&&(this.style.display=""),"none"==getComputedStyle(this,"").getPropertyValue("display")&&(this.style.display=h(this.nodeName))})},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){var e=n(t);if(this[0]&&!e)var i=x(t).get(0),r=i.parentNode||this.length>1;return this.each(function(n){x(this).wrapAll(e?t.call(this,n):r?i.cloneNode(!0):i)})},wrapAll:function(t){if(this[0]){x(this[0]).before(t=x(t));for(var n;(n=t.children()).length;)t=n.first();x(t).append(this)}return this},wrapInner:function(t){var e=n(t);return this.each(function(n){var i=x(this),r=i.contents(),o=e?t.call(this,n):t;r.length?r.wrapAll(o):i.append(o)})},unwrap:function(){return this.parent().each(function(){x(this).replaceWith(x(this).children())}),this},clone:function(){return this.map(function(){return this.cloneNode(!0)})},hide:function(){return this.css("display","none")},toggle:function(t){return this.each(function(){var n=x(this);(t===N?"none"==n.css("display"):t)?n.show():n.hide()})},prev:function(t){return x(this.pluck("previousElementSibling")).filter(t||"*")},next:function(t){return x(this.pluck("nextElementSibling")).filter(t||"*")},html:function(t){return 0 in arguments?this.each(function(n){var e=this.innerHTML;x(this).empty().append(g(this,t,n,e))}):0 in this?this[0].innerHTML:null},text:function(t){return 0 in arguments?this.each(function(n){var e=g(this,t,n,this.textContent);this.textContent=null==e?"":""+e}):0 in this?this[0].textContent:null},attr:function(t,n){var e;return"string"!=typeof t||1 in arguments?this.each(function(e){if(1===this.nodeType)if(r(t))for(E in t)v(this,E,t[E]);else v(this,t,g(this,n,e,this.getAttribute(t)))}):this.length&&1===this[0].nodeType?!(e=this[0].getAttribute(t))&&t in this[0]?this[0][t]:e:N},removeAttr:function(t){return this.each(function(){1===this.nodeType&&v(this,t)})},prop:function(t,n){return t=Y[t]||t,1 in arguments?this.each(function(e){this[t]=g(this,n,e,this[t])}):this[0]&&this[0][t]},data:function(t,n){var e="data-"+t.replace(B,"-$1").toLowerCase(),i=1 in arguments?this.attr(e,n):this.attr(e);return null!==i?b(i):N},val:function(t){return 0 in arguments?this.each(function(n){this.value=g(this,t,n,this.value)}):this[0]&&(this[0].multiple?x(this[0]).find("option").filter(function(){return this.selected}).pluck("value"):this[0].value)},offset:function(t){if(t)return this.each(function(n){var e=x(this),i=g(this,t,n,e.offset()),r=e.offsetParent().offset(),o={top:i.top-r.top,left:i.left-r.left};"static"==e.css("position")&&(o.position="relative"),e.css(o)});if(!this.length)return null;var n=this[0].getBoundingClientRect();return{left:n.left+window.pageXOffset,top:n.top+window.pageYOffset,width:Math.round(n.width),height:Math.round(n.height)}},css:function(n,e){if(arguments.length<2){var i=this[0],r=getComputedStyle(i,"");if(!i)return;if("string"==typeof n)return i.style[O(n)]||r.getPropertyValue(n);if(G(n)){var o={};return x.each(n,function(t,n){o[n]=i.style[O(n)]||r.getPropertyValue(n)}),o}}var s="";if("string"==t(n))e||0===e?s=a(n)+":"+f(n,e):this.each(function(){this.style.removeProperty(a(n))});else for(E in n)n[E]||0===n[E]?s+=a(E)+":"+f(E,n[E])+";":this.each(function(){this.style.removeProperty(a(E))});return this.each(function(){this.style.cssText+=";"+s})},index:function(t){return t?this.indexOf(x(t)[0]):this.parent().children().indexOf(this[0])},hasClass:function(t){return!!t&&T.some.call(this,function(t){return this.test(y(t))},l(t))},addClass:function(t){return t?this.each(function(n){if("className"in this){C=[];var e=y(this),i=g(this,t,n,e);i.split(/\s+/g).forEach(function(t){x(this).hasClass(t)||C.push(t)},this),C.length&&y(this,e+(e?" ":"")+C.join(" "))}}):this},removeClass:function(t){return this.each(function(n){if("className"in this){if(t===N)return y(this,"");C=y(this),g(this,t,n,C).split(/\s+/g).forEach(function(t){C=C.replace(l(t)," ")}),y(this,C.trim())}})},toggleClass:function(t,n){return t?this.each(function(e){var i=x(this),r=g(this,t,e,y(this));r.split(/\s+/g).forEach(function(t){(n===N?!i.hasClass(t):n)?i.addClass(t):i.removeClass(t)})}):this},scrollTop:function(t){if(this.length){var n="scrollTop"in this[0];return t===N?n?this[0].scrollTop:this[0].pageYOffset:this.each(n?function(){this.scrollTop=t}:function(){this.scrollTo(this.scrollX,t)})}},scrollLeft:function(t){if(this.length){var n="scrollLeft"in this[0];return t===N?n?this[0].scrollLeft:this[0].pageXOffset:this.each(n?function(){this.scrollLeft=t}:function(){this.scrollTo(t,this.scrollY)})}},position:function(){if(this.length){var t=this[0],n=this.offsetParent(),e=this.offset(),i=k.test(n[0].nodeName)?{top:0,left:0}:n.offset();return e.top-=parseFloat(x(t).css("margin-top"))||0,e.left-=parseFloat(x(t).css("margin-left"))||0,i.top+=parseFloat(x(n[0]).css("border-top-width"))||0,i.left+=parseFloat(x(n[0]).css("border-left-width"))||0,{top:e.top-i.top,left:e.left-i.left}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||L.body;t&&!k.test(t.nodeName)&&"static"==x(t).css("position");)t=t.offsetParent;return t})}},x.fn.detach=x.fn.remove,["width","height"].forEach(function(t){var n=t.replace(/./,function(t){return t[0].toUpperCase()});x.fn[t]=function(r){var o,s=this[0];return r===N?e(s)?s["inner"+n]:i(s)?s.documentElement["scroll"+n]:(o=this.offset())&&o[t]:this.each(function(n){s=x(this),s.css(t,g(this,r,n,s[t]()))})}}),V.forEach(function(n,e){var i=e%2;x.fn[n]=function(){var n,r,o=x.map(arguments,function(e){return n=t(e),"object"==n||"array"==n||null==e?e:W.fragment(e)}),s=this.length>1;return o.length<1?this:this.each(function(t,n){r=i?n:n.parentNode,n=0==e?n.nextSibling:1==e?n.firstChild:2==e?n:null;var c=x.contains(L.documentElement,r);o.forEach(function(t){if(s)t=t.cloneNode(!0);else if(!r)return x(t).remove();r.insertBefore(t,n),c&&w(t,function(t){null==t.nodeName||"SCRIPT"!==t.nodeName.toUpperCase()||t.type&&"text/javascript"!==t.type||t.src||window.eval.call(window,t.innerHTML)})})})},x.fn[i?n+"To":"insert"+(e?"Before":"After")]=function(t){return x(t)[n](this),this}}),W.Z.prototype=x.fn,W.uniq=S,W.deserializeValue=b,x.zepto=W,x}();window.Zepto=Zepto,void 0===window.$&&(window.$=Zepto);
/*![thirdpart/zepto/event.js]*/!function(n){function e(n){return n._zid||(n._zid=p++)}function t(n,t,o,u){if(t=r(t),t.ns)var a=i(t.ns);return(g[e(n)]||[]).filter(function(n){return n&&(!t.e||n.e==t.e)&&(!t.ns||a.test(n.ns))&&(!o||e(n.fn)===e(o))&&(!u||n.sel==u)})}function r(n){var e=(""+n).split(".");return{e:e[0],ns:e.slice(1).sort().join(" ")}}function i(n){return new RegExp("(?:^| )"+n.replace(" "," .* ?")+"(?: |$)")}function o(n,e){return n.del&&!y&&n.e in E||!!e}function u(n){return P[n]||y&&E[n]||n}function a(t,i,a,c,s,p,d){var v=e(t),h=g[v]||(g[v]=[]);i.split(/\s/).forEach(function(e){if("ready"==e)return n(document).ready(a);var i=r(e);i.fn=a,i.sel=s,i.e in P&&(a=function(e){var t=e.relatedTarget;if(!t||t!==this&&!n.contains(this,t))return i.fn.apply(this,arguments)}),i.del=p;var v=p||a;i.proxy=function(n){if(n=f(n),!n.isImmediatePropagationStopped()){n.data=c;var e=v.apply(t,n._args==l?[n]:[n].concat(n._args));return e===!1&&(n.preventDefault(),n.stopPropagation()),e}},i.i=h.length,h.push(i),"addEventListener"in t&&t.addEventListener(u(i.e),i.proxy,o(i,d))})}function c(n,r,i,a,c){var f=e(n);(r||"").split(/\s/).forEach(function(e){t(n,e,i,a).forEach(function(e){delete g[f][e.i],"removeEventListener"in n&&n.removeEventListener(u(e.e),e.proxy,o(e,c))})})}function f(e,t){return!t&&e.isDefaultPrevented||(t||(t=e),n.each(D,function(n,r){var i=t[n];e[n]=function(){return this[r]=b,i&&i.apply(t,arguments)},e[r]=x}),(t.defaultPrevented!==l?t.defaultPrevented:"returnValue"in t?t.returnValue===!1:t.getPreventDefault&&t.getPreventDefault())&&(e.isDefaultPrevented=b)),e}function s(n){var e,t={originalEvent:n};for(e in n)w.test(e)||n[e]===l||(t[e]=n[e]);return f(t,n)}var l,p=1,d=Array.prototype.slice,v=n.isFunction,h=function(n){return"string"==typeof n},g={},m={},y="onfocusin"in window,E={focus:"focusin",blur:"focusout"},P={mouseenter:"mouseover",mouseleave:"mouseout"};m.click=m.mousedown=m.mouseup=m.mousemove="MouseEvents",n.event={add:a,remove:c},n.proxy=function(t,r){var i=2 in arguments&&d.call(arguments,2);if(v(t)){var o=function(){return t.apply(r,i?i.concat(d.call(arguments)):arguments)};return o._zid=e(t),o}if(h(r))return i?(i.unshift(t[r],t),n.proxy.apply(null,i)):n.proxy(t[r],t);throw new TypeError("expected function")},n.fn.bind=function(n,e,t){return this.on(n,e,t)},n.fn.unbind=function(n,e){return this.off(n,e)},n.fn.one=function(n,e,t,r){return this.on(n,e,t,r,1)};var b=function(){return!0},x=function(){return!1},w=/^([A-Z]|returnValue$|layer[XY]$)/,D={preventDefault:"isDefaultPrevented",stopImmediatePropagation:"isImmediatePropagationStopped",stopPropagation:"isPropagationStopped"};n.fn.delegate=function(n,e,t){return this.on(e,n,t)},n.fn.undelegate=function(n,e,t){return this.off(e,n,t)},n.fn.live=function(e,t){return n(document.body).delegate(this.selector,e,t),this},n.fn.die=function(e,t){return n(document.body).undelegate(this.selector,e,t),this},n.fn.on=function(e,t,r,i,o){var u,f,p=this;return e&&!h(e)?(n.each(e,function(n,e){p.on(n,t,r,e,o)}),p):(h(t)||v(i)||i===!1||(i=r,r=t,t=l),(v(r)||r===!1)&&(i=r,r=l),i===!1&&(i=x),p.each(function(l,p){o&&(u=function(n){return c(p,n.type,i),i.apply(this,arguments)}),t&&(f=function(e){var r,o=n(e.target).closest(t,p).get(0);if(o&&o!==p)return r=n.extend(s(e),{currentTarget:o,liveFired:p}),(u||i).apply(o,[r].concat(d.call(arguments,1)))}),a(p,e,i,r,t,f||u)}))},n.fn.off=function(e,t,r){var i=this;return e&&!h(e)?(n.each(e,function(n,e){i.off(n,t,e)}),i):(h(t)||v(r)||r===!1||(r=t,t=l),r===!1&&(r=x),i.each(function(){c(this,e,r,t)}))},n.fn.trigger=function(e,t){return e=h(e)||n.isPlainObject(e)?n.Event(e):f(e),e._args=t,this.each(function(){"dispatchEvent"in this?this.dispatchEvent(e):n(this).triggerHandler(e,t)})},n.fn.triggerHandler=function(e,r){var i,o;return this.each(function(u,a){i=s(h(e)?n.Event(e):e),i._args=r,i.target=a,n.each(t(a,e.type||e),function(n,e){if(o=e.proxy(i),i.isImmediatePropagationStopped())return!1})}),o},"focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select keydown keypress keyup error".split(" ").forEach(function(e){n.fn[e]=function(n){return n?this.bind(e,n):this.trigger(e)}}),["focus","blur"].forEach(function(e){n.fn[e]=function(n){return n?this.bind(e,n):this.each(function(){try{this[e]()}catch(n){}}),this}}),n.Event=function(n,e){h(n)||(e=n,n=e.type);var t=document.createEvent(m[n]||"Events"),r=!0;if(e)for(var i in e)"bubbles"==i?r=!!e[i]:t[i]=e[i];return t.initEvent(n,r,!0),f(t)}}(Zepto);
/*![thirdpart/zepto/ajax.js]*/!function(t){function e(e,a,n){var r=t.Event(a);return t(e).trigger(r,n),!r.isDefaultPrevented()}function a(t,a,n,r){if(t.global)return e(a||y,n,r)}function n(e){e.global&&0===t.active++&&a(e,null,"ajaxStart")}function r(e){e.global&&!--t.active&&a(e,null,"ajaxStop")}function o(t,e){var n=e.context;return e.beforeSend.call(n,t,e)!==!1&&a(e,n,"ajaxBeforeSend",[t,e])!==!1&&void a(e,n,"ajaxSend",[t,e])}function i(t,e,n,r){var o=n.context,i="success";n.success.call(o,t,i,e),r&&r.resolveWith(o,[t,i,e]),a(n,o,"ajaxSuccess",[e,n,t]),c(i,e,n)}function s(t,e,n,r,o){var i=r.context;r.error.call(i,n,e,t),o&&o.rejectWith(i,[n,e,t]),a(r,i,"ajaxError",[n,r,t||e]),c(e,n,r)}function c(t,e,n){var o=n.context;n.complete.call(o,e,t),a(n,o,"ajaxComplete",[e,n]),r(n)}function l(){}function u(t){return t&&(t=t.split(";",2)[0]),t&&(t==b?"html":t==T?"json":g.test(t)?"script":w.test(t)&&"xml")||"text"}function p(t,e){return""==e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}function d(e){e.processData&&e.data&&"string"!=t.type(e.data)&&(e.data=t.param(e.data,e.traditional)),!e.data||e.type&&"GET"!=e.type.toUpperCase()||(e.url=p(e.url,e.data),e.data=void 0)}function f(e,a,n,r){return t.isFunction(a)&&(r=n,n=a,a=void 0),t.isFunction(n)||(r=n,n=void 0),{url:e,data:a,success:n,dataType:r}}function x(e,a,n,r){var o,i=t.isArray(a),s=t.isPlainObject(a);t.each(a,function(a,c){o=t.type(c),r&&(a=n?r:r+"["+(s||"object"==o||"array"==o?a:"")+"]"),!r&&i?e.add(c.name,c.value):"array"==o||!n&&"object"==o?x(e,c,n,a):e.add(a,c)})}var m,j,v=0,y=window.document,h=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,g=/^(?:text|application)\/javascript/i,w=/^(?:text|application)\/xml/i,T="application/json",b="text/html",S=/^\s*$/;t.active=0,t.ajaxJSONP=function(e,a){if(!("type"in e))return t.ajax(e);var n,r,c=e.jsonpCallback,l=(t.isFunction(c)?c():c)||"jsonp"+ ++v,u=y.createElement("script"),p=window[l],d=function(e){t(u).triggerHandler("error",e||"abort")},f={abort:d};return a&&a.promise(f),t(u).on("load error",function(o,c){clearTimeout(r),t(u).off().remove(),"error"!=o.type&&n?i(n[0],f,e,a):s(null,c||"error",f,e,a),window[l]=p,n&&t.isFunction(p)&&p(n[0]),p=n=void 0}),o(f,e)===!1?(d("abort"),f):(window[l]=function(){n=arguments},u.src=e.url.replace(/\?(.+)=\?/,"?$1="+l),y.head.appendChild(u),e.timeout>0&&(r=setTimeout(function(){d("timeout")},e.timeout)),f)},t.ajaxSettings={type:"GET",beforeSend:l,success:l,error:l,complete:l,context:null,global:!0,xhr:function(){return new window.XMLHttpRequest},accepts:{script:"text/javascript, application/javascript, application/x-javascript",json:T,xml:"application/xml, text/xml",html:b,text:"text/plain"},crossDomain:!1,timeout:0,processData:!0,cache:!0},t.ajax=function(e){var a=t.extend({},e||{}),r=t.Deferred&&t.Deferred();for(m in t.ajaxSettings)void 0===a[m]&&(a[m]=t.ajaxSettings[m]);n(a),a.crossDomain||(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!=window.location.host),a.url||(a.url=window.location.toString()),d(a);var c=a.dataType,f=/\?.+=\?/.test(a.url);if(f&&(c="jsonp"),a.cache!==!1&&(e&&e.cache===!0||"script"!=c&&"jsonp"!=c)||(a.url=p(a.url,"_="+Date.now())),"jsonp"==c)return f||(a.url=p(a.url,a.jsonp?a.jsonp+"=?":a.jsonp===!1?"":"callback=?")),t.ajaxJSONP(a,r);var x,v=a.accepts[c],y={},h=function(t,e){y[t.toLowerCase()]=[t,e]},g=/^([\w-]+:)\/\//.test(a.url)?RegExp.$1:window.location.protocol,w=a.xhr(),T=w.setRequestHeader;if(r&&r.promise(w),a.crossDomain||h("X-Requested-With","XMLHttpRequest"),h("Accept",v||"*/*"),(v=a.mimeType||v)&&(v.indexOf(",")>-1&&(v=v.split(",",2)[0]),w.overrideMimeType&&w.overrideMimeType(v)),(a.contentType||a.contentType!==!1&&a.data&&"GET"!=a.type.toUpperCase())&&h("Content-Type",a.contentType||"application/x-www-form-urlencoded"),a.headers)for(j in a.headers)h(j,a.headers[j]);if(w.setRequestHeader=h,w.onreadystatechange=function(){if(4==w.readyState){w.onreadystatechange=l,clearTimeout(x);var e,n=!1;if(w.status>=200&&w.status<300||304==w.status||0==w.status&&"file:"==g){c=c||u(a.mimeType||w.getResponseHeader("content-type")),e=w.responseText;try{"script"==c?(0,eval)(e):"xml"==c?e=w.responseXML:"json"==c&&(e=S.test(e)?null:t.parseJSON(e))}catch(t){n=t}n?s(n,"parsererror",w,a,r):i(e,w,a,r)}else s(w.statusText||null,w.status?"error":"abort",w,a,r)}},o(w,a)===!1)return w.abort(),s(null,"abort",w,a,r),w;if(a.xhrFields)for(j in a.xhrFields)w[j]=a.xhrFields[j];var b=!("async"in a)||a.async;w.open(a.type,a.url,b,a.username,a.password);for(j in y)T.apply(w,y[j]);return a.timeout>0&&(x=setTimeout(function(){w.onreadystatechange=l,w.abort(),s(null,"timeout",w,a,r)},a.timeout)),w.send(a.data?a.data:null),w},t.get=function(){return t.ajax(f.apply(null,arguments))},t.post=function(){var e=f.apply(null,arguments);return e.type="POST",t.ajax(e)},t.getJSON=function(){var e=f.apply(null,arguments);return e.dataType="json",t.ajax(e)},t.fn.load=function(e,a,n){if(!this.length)return this;var r,o=this,i=e.split(/\s/),s=f(e,a,n),c=s.success;return i.length>1&&(s.url=i[0],r=i[1]),s.success=function(e){o.html(r?t("<div>").html(e.replace(h,"")).find(r):e),c&&c.apply(o,arguments)},t.ajax(s),this};var D=encodeURIComponent;t.param=function(t,e){var a=[];return a.add=function(t,e){this.push(D(t)+"="+D(e))},x(a,t,e),a.join("&").replace(/%20/g,"+")}}(Zepto);
/*![thirdpart/zepto/ie.js]*/!function(t){"__proto__"in{}||t.extend(t.zepto,{Z:function(e,n){return e=e||[],t.extend(e,t.fn),e.selector=n||"",e.__Z=!0,e},isZ:function(e){return"array"===t.type(e)&&"__Z"in e}});try{getComputedStyle(void 0)}catch(t){var e=getComputedStyle;window.getComputedStyle=function(t){try{return e(t)}catch(t){return null}}}}(Zepto);
/*![thirdpart/zepto/detect.js]*/!function(i){function e(i){var e=this.os={},a=this.browser={},o=i.match(/Web[kK]it[\/]{0,1}([\d.]+)/),t=i.match(/(Android);?[\s\/]+([\d.]+)?/)||i.indexOf(" MI ")>-1,r=!!i.match(/\(Macintosh\; Intel /),h=i.match(/(iPad).*OS\s([\d_]+)/),c=i.match(/(iPod)(.*OS\s([\d_]+))?/),s=!h&&i.match(/(iPhone\sOS)\s([\d_]+)/),n=i.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=i.match(/Windows Phone ([\d.]+)/),m=n&&i.match(/TouchPad/),l=i.match(/Kindle\/([\d.]+)/),b=i.match(/Silk\/([\d._]+)/),v=i.match(/(BlackBerry).*Version\/([\d.]+)/),p=i.match(/(BB10).*Version\/([\d.]+)/),S=i.match(/(RIM\sTablet\sOS)\s([\d.]+)/),f=i.match(/PlayBook/),k=i.match(/Chrome\/([\d.]+)/)||i.match(/CriOS\/([\d.]+)/),P=i.match(/Firefox\/([\d.]+)/),w=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),O=!k&&i.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),_=O||i.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(a.webkit=!!o)&&(a.version=o[1]),t&&(e.android=!0,e.version=t[2]),s&&!c&&(e.ios=e.iphone=!0,e.version=s[2].replace(/_/g,".")),h&&(e.ios=e.ipad=!0,e.version=h[2].replace(/_/g,".")),c&&(e.ios=e.ipod=!0,e.version=c[3]?c[3].replace(/_/g,"."):null),d&&(e.wp=!0,e.version=d[1]),n&&(e.webos=!0,e.version=n[2]),m&&(e.touchpad=!0),v&&(e.blackberry=!0,e.version=v[2]),p&&(e.bb10=!0,e.version=p[2]),S&&(e.rimtabletos=!0,e.version=S[2]),f&&(a.playbook=!0),l&&(e.kindle=!0,e.version=l[1]),b&&(a.silk=!0,a.version=b[1]),!b&&e.android&&i.match(/Kindle Fire/)&&(a.silk=!0),k&&(a.chrome=!0,a.version=k[1]),P&&(a.firefox=!0,a.version=P[1]),w&&(a.ie=!0,a.version=w[1]),_&&(r||e.ios)&&(a.safari=!0,r&&(a.version=_[1])),O&&(a.webview=!0),e.tablet=!!(h||f||t&&!i.match(/Mobile/)||P&&i.match(/Tablet/)||w&&!i.match(/Phone/)&&i.match(/Touch/)),e.phone=!(e.tablet||e.ipod||!(t||s||n||v||p||k&&i.match(/Android/)||k&&i.match(/CriOS\/([\d.]+)/)||P&&i.match(/Mobile/)||w&&i.match(/Touch/)))}e.call(i,navigator.userAgent),i.__detect=e}(Zepto);
/*![thirdpart/zepto/fx.js]*/!function(t,n){function i(t){return t.replace(/([a-z])([A-Z])/,"$1-$2").toLowerCase()}function e(t){return a?a+t:t.toLowerCase()}var a,s,o,r,f,u,c,d,l,m,p="",h={Webkit:"webkit",Moz:"",O:"o"},y=window.document,x=y.createElement("div"),b=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i,g={};t.each(h,function(t,i){if(x.style[t+"TransitionProperty"]!==n)return p="-"+t.toLowerCase()+"-",a=i,!1}),s=p+"transform",g[o=p+"transition-property"]=g[r=p+"transition-duration"]=g[u=p+"transition-delay"]=g[f=p+"transition-timing-function"]=g[c=p+"animation-name"]=g[d=p+"animation-duration"]=g[m=p+"animation-delay"]=g[l=p+"animation-timing-function"]="",t.fx={off:a===n&&x.style.transitionProperty===n,speeds:{_default:400,fast:200,slow:600},cssPrefix:p,transitionEnd:e("TransitionEnd"),animationEnd:e("AnimationEnd")},t.fn.animate=function(i,e,a,s,o){return t.isFunction(e)&&(s=e,a=n,e=n),t.isFunction(a)&&(s=a,a=n),t.isPlainObject(e)&&(a=e.easing,s=e.complete,o=e.delay,e=e.duration),e&&(e=("number"==typeof e?e:t.fx.speeds[e]||t.fx.speeds._default)/1e3),o&&(o=parseFloat(o)/1e3),this.anim(i,e,a,s,o)},t.fn.anim=function(e,a,p,h,y){var x,w,E,T={},v="",L=this,P=t.fx.transitionEnd,j=!1;if(a===n&&(a=t.fx.speeds._default/1e3),y===n&&(y=0),t.fx.off&&(a=0),"string"==typeof e)T[c]=e,T[d]=a+"s",T[m]=y+"s",T[l]=p||"linear",P=t.fx.animationEnd;else{w=[];for(x in e)b.test(x)?v+=x+"("+e[x]+") ":(T[x]=e[x],w.push(i(x)));v&&(T[s]=v,w.push(s)),a>0&&"object"==typeof e&&(T[o]=w.join(", "),T[r]=a+"s",T[u]=y+"s",T[f]=p||"linear")}return E=function(n){if("undefined"!=typeof n){if(n.target!==n.currentTarget)return;t(n.target).unbind(P,E)}else t(this).unbind(P,E);j=!0,t(this).css(g),h&&h.call(this)},a>0&&(this.bind(P,E),setTimeout(function(){j||E.call(L)},1e3*a+25)),this.size()&&this.get(0).clientLeft,this.css(T),a<=0&&setTimeout(function(){L.each(function(){E.call(this)})},0),this},x=null}(Zepto);
/*![thirdpart/zepto/fx_methods.js]*/!function(n,t){function i(i,s,o,c,e){"function"!=typeof s||e||(e=s,s=t);var f={opacity:o};return c&&(f.scale=c,i.css(n.fx.cssPrefix+"transform-origin","0 0")),i.animate(f,s,null,e)}function s(t,s,o,c){return i(t,s,0,o,function(){e.call(n(this)),c&&c.call(this)})}var o=window.document,c=(o.documentElement,n.fn.show),e=n.fn.hide,f=n.fn.toggle;n.fn.show=function(n,s){return c.call(this),n===t?n=0:this.css("opacity",0),i(this,n,1,"1,1",s)},n.fn.hide=function(n,i){return n===t?e.call(this):s(this,n,"0,0",i)},n.fn.toggle=function(i,s){return i===t||"boolean"==typeof i?f.call(this,i):this.each(function(){var t=n(this);t["none"==t.css("display")?"show":"hide"](i,s)})},n.fn.fadeTo=function(n,t,s){return i(this,n,t,null,s)},n.fn.fadeIn=function(n,t){var i=this.css("opacity");return i>0?this.css("opacity",0):i=1,c.call(this).fadeTo(n,i,t)},n.fn.fadeOut=function(n,t){return s(this,n,null,t)},n.fn.fadeToggle=function(t,i){return this.each(function(){var s=n(this);s[0==s.css("opacity")||"none"==s.css("display")?"fadeIn":"fadeOut"](t,i)})}}(Zepto);
/*![thirdpart/zepto/touch.js]*/!function(e){function t(e,t,n,o){return Math.abs(e-t)>=Math.abs(n-o)?e-t>0?"Left":"Right":n-o>0?"Up":"Down"}function n(){p=null,g.last&&(g.el.trigger("longTap"),g={})}function o(){p&&clearTimeout(p),p=null}function i(){u&&clearTimeout(u),l&&clearTimeout(l),c&&clearTimeout(c),p&&clearTimeout(p),u=l=c=p=null,g={}}function r(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function a(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var u,l,c,p,s,g={},T=750;e(document).ready(function(){var f,h,w,y,d=0,m=0;"MSGesture"in window&&(s=new MSGesture,s.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(g.el.trigger("swipe"),g.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(y=a(t,"down"))&&!r(t)||(w=y?t:t.touches[0],t.touches&&1===t.touches.length&&g.x2&&(g.x2=void 0,g.y2=void 0),f=Date.now(),h=f-(g.last||f),g.el=e("tagName"in w.target?w.target:w.target.parentNode),u&&clearTimeout(u),g.x1=w.pageX,g.y1=w.pageY,h>0&&h<=250&&(g.isDoubleTap=!0),g.last=f,p=setTimeout(n,T),s&&y&&s.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(y=a(e,"move"))&&!r(e)||(w=y?e:e.touches[0],o(),g.x2=w.pageX,g.y2=w.pageY,d+=Math.abs(g.x1-g.x2),m+=Math.abs(g.y1-g.y2))}).on("touchend MSPointerUp pointerup",function(n){(y=a(n,"up"))&&!r(n)||(o(),g.x2&&Math.abs(g.x1-g.x2)>30||g.y2&&Math.abs(g.y1-g.y2)>30?c=setTimeout(function(){g.el&&(g.el.trigger("swipe"),g.el.trigger("swipe"+t(g.x1,g.x2,g.y1,g.y2))),g={}},0):"last"in g&&(d<30&&m<30?l=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=i,g.el&&(g.el.trigger(t),g.isDoubleTap?(g.el&&g.el.trigger("doubleTap"),g={}):u=setTimeout(function(){u=null,g.el&&g.el.trigger("singleTap"),g={}},250))},0):g={}),d=m=0)}).on("touchcancel MSPointerCancel pointercancel",i),e(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto);
/*![thirdpart/zepto/gesture.js]*/!function(t){function e(t){return"tagName"in t?t:t.parentNode}if(t.os.ios){var n,i={};t(document).bind("gesturestart",function(t){var a=Date.now();a-(i.last||a);i.target=e(t.target),n&&clearTimeout(n),i.e1=t.scale,i.last=a}).bind("gesturechange",function(t){i.e2=t.scale}).bind("gestureend",function(e){i.e2>0?(0!=Math.abs(i.e1-i.e2)&&t(i.target).trigger("pinch")&&t(i.target).trigger("pinch"+(i.e1-i.e2>0?"In":"Out")),i.e1=i.e2=i.last=0):"last"in i&&(i={})}),["pinch","pinchIn","pinchOut"].forEach(function(e){t.fn[e]=function(t){return this.bind(e,t)}})}}(Zepto);
/*![thirdpart/plugins/throttle.js]*/!function(t){t.extend(t,{throttle:function(o,n,i){function e(){function t(){d=Date.now(),n.apply(r,f)}function e(){u=void 0}var r=this,c=Date.now()-d,f=arguments;i&&!u&&t(),u&&clearTimeout(u),void 0===i&&c>o?t():u=setTimeout(i?e:t,void 0===i?o-c:o)}var u,d=0;return"function"!=typeof n&&(i=n,n=o,o=250),e._zid=n._zid=n._zid||t.proxy(n)._zid,e},debounce:function(o,n,i){return void 0===n?t.throttle(250,o,!1):t.throttle(o,n,void 0!==i&&i!==!1)}})}(Zepto);
/*![thirdpart/plugins/matchMedia.js]*/!function(n){n.matchMedia=function(){var t=0,i="gmu-media-detect",e=n.fx.transitionEnd,d=n.fx.cssPrefix,a=n("<style></style>").append("."+i+"{"+d+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(d){var s,c,o=i+t++,p=[];return a.append("@media "+d+" { #"+o+" { width: 1px; } }\n"),s=n('<div class="'+i+'" id="'+o+'"></div>').appendTo("body").on(e,function(){c.matches=1===s.width(),n.each(p,function(t,i){n.isFunction(i)&&i.call(c,c)})}),c={matches:1===s.width(),media:d,addListener:function(n){return p.push(n),this},removeListener:function(n){var t=p.indexOf(n);return~t&&p.splice(t,1),this}}}}()}(Zepto);
/*![thirdpart/plugins/event.ortchange.js]*/$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})});
/*![lib/plugins/utils.js]*/!function(t){var r=Object.prototype.toString,n=function(t){return function(n){return r.call(n)==t}};t.isString=n("[object String]"),t.isNumber=n("[object Number]"),t.isBoolean=n("[object Boolean]"),t.isObject=n("[object Object]"),t.isArray=n("[object Array]"),t.isDate=n("[object Date]"),t.isRegExp=n("[object RegExp]"),t.isFunction=n("[object Function]"),t.isWindow=function(t){return null!=t&&t==t.window},t.isMobile=window.SYS_CONF.isMobile,t.isSimulateMobile=window.SYS_CONF.isSimulateMobile,t.tapClick=t.isMobile&&!t.isSimulateMobile?"tap":"click",t.isInArray=function(t,r){if(!t||!t.length)return!1;for(var n=0,e=t.length;n<e;n++)if(r==t[n])return!0;return!1},t.htmlToText=function(t){return String(t).replace(/&nbsp;/g," ").replace(/<br\s*\/>/,"\n").replace(/<[^>]+>/g,"").replace(/&gt;/,">").replace(/&lt;/,"<")},t.noop=function(){},t.hereDoc=function(r){for(var n=r.toString().split("\n").slice(1,-1),e=[],o=0,i=n.length;o<i;o++)e.push(t.trim(n[o]));return e.join("\n")},t.getParam=function(){for(var t={},r=(location.search||"").replace(/^\?/,""),n=r.split("&"),e=0,o=n.length;e<o;e++){var i=n[e],c=i.split("=");t[c[0]]=c[1]}return function(r,n){return t[r]||n}}(),t.searchParamsToObj=function(t){var r,n,e,o={},i=t.split("&");for(r=0,n=i.length;r<n;r++)e=i[r].split("="),o[e[0]]=decodeURIComponent(e[1]);return o},t.formatString=function(t,r){t=String(t);var n=arguments,e=Object.prototype.toString;return t.replace(/#\{(.+?)\}/g,function(t,r){for(var o=null,i=1,c=n.length;i<c;i++){var a=n[i];if(a&&"object"==typeof a&&r in a){o=a;break}}if(o){var u=o[r];if("[object Function]"==e.call(u)){var l=u.call(o);return"[object Array]"==e.call(l)?l.join(""):l}return"[object Array]"==e.call(u)?u.join(""):String(void 0===u?"":u)}return""})};var e=function(t){var r;return Object.create?Object.create(t):(r=function(){},r.prototype=t,new r)};t.inherits=function(r,n,o){var i;return"function"==typeof n?(i=n,n=null):i=n&&n.hasOwnProperty("constructor")?n.constructor:function(){return r.apply(this,arguments)},t.extend(i,r,o||{}),i.__super__=r.prototype,i.prototype=e(r.prototype),i.prototype._super=r,n&&t.extend(!0,i.prototype,n),i},t.abstractFunc=function(t){return function(){throw new Error('"'+t+'" is an abstract function')}};var o={};t(document).on("touchmove",function(r){for(var n in o){var e=o[n];e&&("document"==n||t(r.target).parents(n).length)&&r.preventDefault()}}),t.stopPageScroll=function(t,r){t=t!==!1,r=r||"document",o[r]=t},t.wbr=function(t){return t.replace(/(?:<[^>]+>)|(?:&#?[0-9a-z]{2,6};)|(.{1})/gi,"$&<wbr>").replace(/><wbr>/g,">")}}(window.Zepto||window.jQuery||window.$);
/*![lib/plugins/dom.js]*/!function(t){t.fn.serializeForm=function(){var e,n,i={};return t([].slice.call(this.get(0).elements)).each(function(){e=t(this),n=e.attr("type"),this.name&&"fieldset"!=this.nodeName.toLowerCase()&&!this.disabled&&"submit"!=n&&"reset"!=n&&"button"!=n&&"radio"!=n&&"checkbox"!=n?i[e.attr("name")]=t.trim(e.val()):"radio"!=n&&"checkbox"!=n||!this.checked||(i[e.attr("name")]=t.trim(e.val()))}),i},t.fn.placeholder=function(){return"placeholder"in document.createElement("input")?function(){return this}:function(){return this.each(function(){var e=t(this),n=e.attr("placeholder");n&&e.val(n).focus(function(){e.val()==n&&e.val("")}).blur(function(){""==e.val()&&e.val(n)})})}}()}(window.Zepto||window.jQuery||window.$);
/*![lib/plugins/cookie.js]*/!function(e){var n=function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},o=function(e,o,t){if(n(e)){t=t||{};var i=t.expires;"number"==typeof t.expires&&(i=new Date,i.setTime(i.getTime()+t.expires));var r=e+"="+o+(t.path?"; path="+t.path:"")+(i?"; expires="+i.toGMTString():"")+(t.domain?"; domain="+t.domain:"")+(t.secure?"; secure":"");document.cookie=r}},t=function(e){if(n(e)){var o=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),t=o.exec(document.cookie);if(t)return t[2]||null}return null},i=function(e){var n=t(e);return"string"==typeof n?n=decodeURIComponent(n):null},r=function(e,n,t){o(e,encodeURIComponent(n),t)},u=function(e,n){n=n||{},n.expires=new Date(0),o(e,"",n)};e.setRawCookie=o,e.getRawCookie=t,e.setCookie=r,e.getCookie=i,e.remove=u,e.delCookie=u}(window.jQuery||window.Zepto||window.$);
/*![lib/plugins/platform.js]*/!function(o){for(var n in window.SYS_CONF.platform){var r=window.SYS_CONF.platform[n],w=n.replace(/^(\w)/,function(o){return o.toUpperCase()});o["is"+w]=r}o.appVersion=parseFloat(window.SYS_CONF.appVersion)}(window.Zepto||window.jQuery||window.$);
/*![lib/s_require.js]*/window.Bee=function(){var n=function(){var n={},e=Object.prototype.toString,i=function(n){return function(i){return e.call(i)==n}};return n.isString=i("[object String]"),n.isObject=i("[object Object]"),n.isNumber=i("[object Number]"),n.isArray=i("[object Array]"),n.isFunction=i("[object Function]"),n.isMobile=window.SYS_CONF.isMobile,n.tapClick=n.isMobile?"tap":"click",n}(),e={},i={},o={},r=function(n,t){if(o[n])return o[n].call(null);if(!e[n]){if(t)return!1;throw new Error(n+" is not defined")}if(!i[n]){var f=e[n],u=[];if(f.requireMods)for(var d=0,c=f.requireMods.length;d<c;d++)u.push(r(f.requireMods[d]));i[n]=f.modObj||f.defineFn.apply(null,u)}return i[n]},t=function(){var i;defConf={};for(var o=0,r=arguments.length;o<r;o++){var t=arguments[o];n.isString(t)?(i=t,defConf.modName=t):n.isObject(t)?defConf.modObj=t:n.isArray(t)?defConf.requireMods=t:n.isFunction(t)&&(defConf.defineFn=t)}e[i]=defConf},f=function(e,i){var o=[];if(n.isArray(e))for(var t=0,f=e.length;t<f;t++)o.push(r(e[t]));else i=e;window.$?window.$(function(){i.apply(null,o)}):i.apply(null,o)},u=function(n,e){o[n]=e};return window.define=t,window.boot=f,{define:t,boot:f,virtualMod:u,deleteMod:function(n){delete i[n]},getMod:r}}();
/*![lib/base.js]*/define("lib/base",function(){var e=!1,n="online"!=SYS_CONF.environ&&e;ajaxPublicParamsHandlers={},ajaxPublicParamsHandlerId=0;var t={};window.base=t,t.var_dump=function(e){if("dev"==SYS_CONF.environ){console.log(e);var n={};if($.isObject(e))for(var r in e)n[r]=JSON.stringify(e[r]);else n.data=JSON.stringify(e);t.ajaxPost("/dumpCall",n)}},t.callStack=function(){if("online"!=SYS_CONF.environ)for(var e=arguments.callee.caller;e&&window.confirm(e.name+" : "+e.toString());)e=e.caller},t.redirect=function(e){window.location.href=t.addProtectedParams(e)},t.addProtectedParams=function(e){return window.SYS_CONF.protectedParams&&(0!==e.indexOf("http")||e.indexOf("beequick.cn")<18&&e.indexOf("beequick.cn")>0)&&(urlSp=e.split("#"),urlSp[0]+=(urlSp[0].indexOf("?")==-1?"?":"&")+window.SYS_CONF.protectedParams,e=urlSp.join("#")),e},t.clickLog=function(e,n){if(e){var r={g_platform:$.isWeixin?"weixin":$.isWeibo?"weibo":$.isApp?$.isIpad?"ios":$.isIphone?"ios":$.isAndroid?"android":"":$.isMobile?"mobile":"pc",g_geologid:SYS_CONF.geologid,g_logid:SYS_CONF.logid,g_product:"bee",g_uniqid:SYS_CONF.userInfo.logUid,g_action:e,g_tn:SYS_CONF.tn,g_tg:SYS_CONF.tg,_r:Math.random()};if($.isObject(n))for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o]);var a=SYS_CONF.domain.clicklog+"/click.gif?"+$.param(r);t.imgRequest(a)}},t.imgRequest=window._bee_imgRequest,t.sendError=function(e,n,r){window._bee_sendError(t.jsonEncode(e),n,r||"base.sendError")},t.onceExecMulitCallFn=function(e){var n=[],t=null,r=!1,o=!1,a={done:function(){if(!o){o=!0,t=arguments;for(var e=0,r=n.length;e<r;e++){var a=n[e];a&&$.isFunction(a)&&a.apply(null,t)}n=null}},reset:function(){o=!1,r=!1,t=null,n=[]}},i=function(){r||(e.apply(a,arguments),r=!0);var i=arguments[arguments.length-1]||$.noop;o?$.isFunction(i)&&i.apply(null,t):n.push(i)};return i},t.isSupportLocation=function(){return!!n||(!(!window.WeiboJSBridge&&!navigator.geolocation)||!$.isWindows&&!$.isMac)},t.getAddressInfoByPoint=function(e,n,r,o){$.ajax({url:"http://api.map.baidu.com/geocoder/v2/",data:{ak:t.getBaiduAk(),location:e+","+n,output:"json",pois:o?1:0},dataType:"jsonp",success:function(e){0==e.status?r&&r(e.result.addressComponent,e.result.pois):(t.sendError("baidu geocoder error:"+e.status),r&&r(!1))},error:function(){t.sendError("baidu geocoder error:error"),r&&r(!1)}})},t.getPointByAddress=function(e,n,r){$.ajax({url:"http://api.map.baidu.com/geocoder/v2/",data:{ak:t.getBaiduAk(),city:e,address:n,output:"json"},dataType:"jsonp",success:function(e){0==e.status?r&&r(e.result.location):(t.sendError("baidu geocoder error:"+e.status),r&&r(!1))},error:function(){t.sendError("baidu geocoder error:error"),r&&r(!1)}})},t.getPlaceAddress=function(e,n,r){$.ajax({url:"http://api.map.baidu.com/place/v2/search",data:{ak:t.getBaiduAk(),region:e,q:n,output:"json",page_size:20},timeout:5e3,dataType:"jsonp",success:function(e){0==e.status?e.results&&e.results[0]&&e.results[0].address?r&&r(e.results):r&&r([]):(t.sendError("baidu place error:"+e.status),r&&r(!1))},error:function(){t.sendError("baidu place error:error"),r&&r(!1)}})},t.getBaiduAk=function(){var e=["snflL5Ml01VAfX4s3Cj9cY5P","j8moP97IUEfnaHhwNpFw9lBp","xYg7sBnoeC48jKUZkvcH0639","qwZ9oLUvSnixC7UoBntpFXmd","ICuEGrsHdhqrmBQsuK1ma98D","Oq1helNPvzN3SH7YV6faU3Lb","fL5VvnqPDWnKwDOQYKbyOunu","ylTiLe9kVVp9uBaIHibYl8av","epx2GlGrgjgEizwW8iYsHwQZ"];return e[parseInt(Math.random()*e.length)]},t.getBaiduConv=function(e,n,r){$.ajax({url:"http://api.map.baidu.com/geoconv/v1/?",data:{ak:t.getBaiduAk(),coords:e,from:n,output:"json",page_size:20},timeout:5e3,dataType:"jsonp",success:function(e){0==e.status?r&&r(e.result):(t.sendError("baidu geo conv error:"+e.status),r&&r(!1))},error:function(){t.sendError("baidu geo conv error:error"),r&&r(!1)}})},t.getGeoLogid=function(){var e=new Date,n=function(e){return e<10?"0"+e:e},t=function(){var e=Math.random()+"";return e.replace("0.","")},r=[$.isWeixin?"wexn":$.isWeibo?"webo":$.isMobile?"h5mb":"wwpc",""+e.getFullYear()+n(e.getMonth()+1)+n(e.getDate())+n(e.getHours())+n(e.getMinutes())+n(e.getSeconds()),("L"+SYS_CONF.logid+"X"+t()+t()+t()).substr(0,32),$.isWeixin||$.isWeibo?"I"+SYS_CONF.userInfo.logUid:""],o=r.join("");return $.setCookie("geologid",o,{path:"/",expires:31104e7}),o},t.getAsId=function(){var e="bee_AS_ASID",n="";if(window.localStorage)try{n=localStorage.getItem(e),n||(n=SYS_CONF.logid,localStorage.setItem(e,n))}catch(e){}return n||SYS_CONF.logid};var r=function(e){return e*Math.PI/180};t.distanceOfTwoPoints=function(e,n,t,o){var a=r(n),i=r(o),s=a-i,u=r(e)-r(t),c=2*Math.asin(Math.sqrt(Math.pow(Math.sin(s/2),2)+Math.cos(a)*Math.cos(i)*Math.pow(Math.sin(u/2),2))),l=6370996.81;return c*=l,c=Math.round(1e4*c)/1e4},t.addAjaxPublicParamsHandler=function(e,n){!n&&$.isFunction(e)&&(n=e,e=ajaxPublicParamsHandlerId++),$.isFunction(n)&&(ajaxPublicParamsHandlers[e]=n)},t.getAjaxPublicParams=function(){var e=o(window.SYS_CONF.protectedParams);e.asid=t.getAsId(),e._r=Math.random(),e.reflogid=t.safeGetProp(window.SYS_CONF,"logid")||"";for(var n in ajaxPublicParamsHandlers)e=ajaxPublicParamsHandlers[n](e);return e};var o=function(e){var n,t,r,o={},a=e.split("&");for(n=0,t=a.length;n<t;n++)r=a[n].split("="),(r[0]||r[1])&&(o[r[0]]=decodeURIComponent(r[1]));return o},a=function(e,n){e=e||this;var r,a,i,s,u,c,l,d=e.getResponseHeader("x-dev-firephp");if(d){if(c=(e.responseURL||"").split("?"),l=c[0]||e,n=n||c[1]||!1,console.groupCollapsed?console.groupCollapsed(l):console.group&&console.group(l),"TooLarge"==d)console.warn&&console.warn("%cHeader","color:red");else for(r=t.jsonDecode(d),i=r.length,a=0;a<i;a++)s=r[a],u=s.type.toLowerCase(),console&&console[console[u]?u:"log"]("%c"+s.label+" => ","color:green;",s.variable);n&&console.log&&console.log("%crequest params =>","color:blue",o(n));try{var f=t.jsonDecode(e.responseText);console.log&&console.log("%cresponse json =>","color:blue;",f)}catch(e){}console.groupEnd&&console.groupEnd()}};window.$&&window.$.ajaxSettings&&window.console&&window.SYS_CONF&&"dev"==window.SYS_CONF.environ&&($.ajaxSettings.xhr=function(){var e=new window.XMLHttpRequest,n=null;return e.send=function(e){return n=e,XMLHttpRequest.prototype.send.apply(this,arguments)},$(e).on("readystatechange",function(){4==e.readyState&&a(e,n)}),e});var i=function(e,n){t.urlHandler?t.urlHandler(e,n):n(e)};t.ajaxGet=function(e,n,r,o){n=$.extend(t.getAjaxPublicParams(),n),r=r||$.noop,o=o||function(e,n,t){var o;o="abort"==n?"":n+":"+t,r({errno:-1,errmsg:o},e)},i(e,function(e){$.ajax({url:e,type:"GET",data:n,dataType:"text",success:function(e,n,a){var i;try{i=t.jsonDecode(e)}catch(e){o(a,"parseerror",String(e))}i&&r(i,a)},error:o,async:!n.__sync})})},t.ajaxPost=function(e,n,r,o){n=$.extend(t.getAjaxPublicParams(),n),r=r||$.noop,o=o||function(e,n,t){var o;o="abort"==n?"":n+":"+t,r({errno:-1,errmsg:o},e)},i(e,function(e){$.ajax({url:e,type:"POST",data:n,dataType:"text",success:function(e,n,a){var i;try{i=t.jsonDecode(e)}catch(e){o(a,"parseerror",String(e))}i&&r(i,a)},error:o})})},t.ajaxLoad=function(e,n,r,o,a){r=$.extend(t.getAjaxPublicParams(),r),i(n,function(n){$.ajax({url:n,type:"get",data:r,dataType:"text",success:function(n,t,r){$.isFunction(e)?e(n):$(e).html(n),o&&o(n)},error:a||function(e,n,t){o&&o("",n)}})})},t.escape=function(){var e={html:{regexp:/[&<>'"]/gm,"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quto;","'":"&#39;"},js:{regexp:/[\\'"\/\n\r]/gm,"\\":"\\\\","'":"\\x27",'"':"\\x22","/":"\\/","\n":"\\n","\r":"\\r"}},n=function(e){return function(n){return n.replace(e.regexp,function(n){return e[n]||n})}};return{js:n(e.js),html:n(e.html)}}(),t.jsonEncode=function(){var e={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},n=function(n){return/["\\\x00-\x1f]/.test(n)&&(n=n.replace(/["\\\x00-\x1f]/g,function(n){var t=e[n];return t?t:(t=n.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(t%16).toString(16))})),'"'+n+'"'},t=function(e){var n,t,o,a=["["],i=e.length;for(t=0;t<i;t++)switch(o=e[t],typeof o){case"undefined":case"function":case"unknown":break;default:n&&a.push(","),a.push(r(o)),n=1}return a.push("]"),a.join("")},r=function(e){switch(typeof e){case"undefined":return"undefined";case"number":return isFinite(e)?String(e):"null";case"boolean":return String(e);case"string":return n(e);default:if(null===e)return"null";if($.isArray(e))return t(e);if($.isDate(e))return e.toString();var o,a,i=["{"];for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s))switch(a=e[s],typeof a){case"undefined":case"unknown":case"function":break;default:o&&i.push(","),o=1,i.push(n(s)+":"+r(a))}return i.push("}"),i.join("")}};return r}(),t.jsonDecode=function(e){return new Function("return ("+e+")")()},t.createStyleSheet=function(e){e=e||"base-default-style";var n=document.getElementById(e);if(n)return n;document.createStyleSheet?n=document.createStyleSheet():(n=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(n));try{n.setAttribute("id",e)}catch(e){}return n},t.setStyleText=function(e,n){var r=document.getElementById(n)||t.createStyleSheet(n);document.createStyleSheet?r.cssText=e:r.innerHTML=e},t.setInterval=function(e,n){var t=function(){var r=e();r!==!1&&setTimeout(t,n)};t()},t.urlAddParams=function(e,n){var t=e.split("#");return t[0]=t[0]+(t[0].indexOf("?")==-1?"?":"&")+($.isString(n)?n:$.param(n)),t.join("#")},t.safeGetProp=function(e,n){for(var t=n.split("."),r=0,o=t.length;r<o;r++){var a=t[r];if(!e||!e[a])return;e=e[a]}return e},t.loadJs=function(e){var n=e.src,t=e.onload||$.noop,r=e.onerror||$.noop,o=e.timeout||!1,a=e.charset||"utf-8",i=$(e.parentNode||"head"),s=document.createElement("script"),u=!1;i.append(s),s.onload=s.onerror=s.onreadystatechange=function(e){var n=s.readyState;if("loaded"==n||"complete"==n||void 0===n){if(s.onload=s.onerror=s.onreadystatechange=null,s.parentNode&&(window._bee_checkJsLoaded&&window._bee_checkJsLoaded(),s.parentNode.removeChild(s)),s=null,u)return;u=!0,t()}},s.charset=a,o&&setTimeout(function(){u||(u=!0,r())},o),s.src=n},t.loadCss=function(e){var n=e.src,t=e.onload||$.noop,r=e.id||!1,o=e.onerror||$.noop,a=e.timeout||!1,i=$(e.parentNode||"head"),s=document.createElement("link"),u=!1;if(i.append(s),s.rel="stylesheet",r&&(s.id=r),a&&setTimeout(function(){u||(u=!0,o())},a),s.attachEvent)s.attachEvent("onload",function(){u||(u=!0,t())});else{var c=function(){if(!u){var e=navigator.userAgent,n=e.indexOf("AppleWebKit")>-1,r=e.indexOf("Opera")>-1;if(n||r)s.sheet&&(u=!0,t());else if(s.sheet)try{s.sheet.cssRules&&(u=!0,t())}catch(e){"SecurityError"!==ex.name&&"NS_ERROR_DOM_SECURITY_ERR"!==ex.name||(u=!0,t())}u||setTimeout(c,10)}};setTimeout(c,10)}s.href=n},t.getEvent=function(){for(var e,n,n=arguments.callee;n=n.caller;)if(n.arguments.length&&(e=n.arguments[0])&&e.stopPropagation&&e.target&&e.preventDefault&&e.type)return e;return!1};var s=function(){var e=document.cookie.match(/\w+=[^\s;]+/g);e.forEach(function(e){var n=e.split("="),t=decodeURIComponent(n[0].trim()),r=decodeURIComponent(n[1].trim());if(0===t.indexOf("__dev__logger_")){var o=r.split(":::"),a=o[0],i=o[1],s=o[2];"warning"==a&&(a="warn"),console[a]("%c"+i,"color:blue",s),$.delCookie(t)}}),setTimeout(s,500)};window.SYS_CONF&&"dev"==window.SYS_CONF.environ&&s();var u=null,c=null;return $(document).on("touchstart",function(e){c=e.srcElement,clearTimeout(u),u=setTimeout(function(){c=!1},700)}),$(document).delegate("input,a,textarea,select","touchend click",function(e){if(c&&e.srcElement!=c)return e.stopPropagation(),e.preventDefault(),!1}),!$.isApp&&$.isApple&&$(window).on("keydown",function(e){var n={48:"0",49:1,50:2,51:3,52:4,53:5,54:6,55:7,56:8,57:9,96:"0",97:1,98:2,99:3,100:4,101:5,102:6,103:7,104:8,105:9};if(e.target&&"INPUT"==e.target.tagName){var t=e.target,r=$(e.target);if(r.hasClass("fix-undo")){var o=e.keyCode,a=n[o];if(13==o)return;e.preventDefault(),8==o?t.value=t.value.replace(/.$/,""):a&&(t.value+=a)}}}),t});
/*![lib/EventObj.js]*/define("lib/EventObj",function(){var t=function(t,e){this._b_evtName=t,this._b_preventDefault=!1,this._b_thenDoFn=null,$.extend(this,e)};t.prototype={preventDefault:function(){this._b_preventDefault=!0},getEventName:function(){return this._b_evtName},then:function(t){this._b_thenDoFn=t},prevent:function(t){this._b_preventDoFn=t},done:function(t){this._b_preventDefault?this._b_preventDoFn&&this._b_preventDoFn.call(t):this._b_thenDoFn&&this._b_thenDoFn.call(t)},isDefaultPrevented:function(){return this._b_preventDefault}};var e=0,n=function(){this.id=++e,this._evtHandlers={}};return n.prototype={fire:function(e,n,r,i){var s=new t(e,n);if(r&&s.then(r),i&&s.prevent(i),this._evtHandlers[e])for(var o=0,h=this._evtHandlers[e],a=h.length;o<a;o++){var v=h[o];v.call(this,s)}s.done(this)},deferFire:function(){var t=this,e=arguments;return setTimeout(function(){t.fire.apply(t,e)},10),this},_addEventListener:function(t,e){(this._evtHandlers[t]||(this._evtHandlers[t]=[])).push(e)},on:function(t,e){var n=Object.prototype.toString.call(t);Object.prototype.toString.call(e);if("[object String]"==n)this._addEventListener(t,e);else if("[object Array]"==n)for(var r=0,i=t.length;r<i;r++)this._addEventListener(t[r],e);else{if("[object Object]"!=n)throw new Error("arguments error");for(var s in t)this._addEventListener(s,t[s])}return this},un:function(t,e){if(this._evtHandlers[t]){for(var n=this._evtHandlers[t],r=[],i=0,s=n.length;i<s;i++){var o=n[i];o!=e&&r.push(o)}this._evtHandlers[t]=r}return this},off:function(){return this.un.apply(this,arguments)}},n});
/*![lib/Storage.js]*/define("lib/Storage",["lib/base","lib/EventObj"],function(t,e){var r="bee_",o=function(){var e=window.name.match(/^NS_(.+)/);if(e)try{this.storage=t.jsonDecode(e[1])}catch(t){this.storage={}}else this.storage={}};o.prototype={getItem:function(t){return this.storage[t]||null},setItem:function(e,r){this.storage[e]=r,window.name="NS_"+t.jsonEncode(this.storage)},removeItem:function(e){delete this.storage[e],window.name="NS_"+t.jsonEncode(this.storage)}};var n=$.inherits(e,{constructor:function(t){e.call(this),this.customKey=t,this.localStorage=window.localStorage||new o,this._hadSendError=!1},set:function(e,r,o){var n,s=this._getKey(e),i=$.isString(r)||$.isNumber(r)?r:t.jsonEncode(r);try{n=this.localStorage.setItem(s,i)}catch(e){t.sendError("Storage set error:"+String(e),"Storage.js")}return n},get:function(e){var r,o=this._getKey(e);try{r=this.localStorage.getItem(o)}catch(e){t.sendError("Storage get error"+String(e),"Storage.js")}return!r||0!==r.indexOf("{")&&0!=r.indexOf("[")?r:t.jsonDecode(r)},del:function(t){this.localStorage.removeItem(this._getKey(t))},_getKey:function(t){return r+this.customKey+"_"+t}});return n.NameStorage=o,n});
/*![lib/Loading.js]*/define("lib/Loading",["lib/base"],function(n){var i='<div id="mod-loading-#{id}" class="mod-loading ui-hide">\n<div class="loading-content">\n<div class="spinner">\n<div class="bounce1"></div>\n<div class="bounce2"></div>\n<div class="bounce3"></div>\n</div>\n<p><span class="loading-text"></span><span class="loading-status"></span></p>\n</div>\n</div>',a=".mod-loading {\nposition:absolute;\ntop:0;\nleft:0;\nwidth:100%;\nheight:100%;\nz-index:50000;\n}\n.mod-loading .loading-content{\nposition:absolute;\ntop:50%;\nleft:50%;\nwidth:200px;\nheight:60px;\nmargin:-50px 0 0 -100px;\ntext-align:center;\nline-height:30px;\nfont-weight:bold;\nbackground-color:#ccc;\nborder-radius:15px;\n}\n.mod-loading .loading-text{\nmargin-left:12px;\n}\n.spinner {\nmargin: 5px 0;\npadding:0;\nheight:22px;\ntext-align: center;\n}\n\n.spinner > div {\nwidth: 22px;\nheight: 22px;\nbackground-color: #fcda04;\n\nborder-radius: 100%;\ndisplay: inline-block;\n-webkit-animation: bouncedelay 1.4s infinite ease-in-out;\nanimation: bouncedelay 1.4s infinite ease-in-out;\n-webkit-animation-fill-mode:both;\nanimation-fill-mode:both;\n}\n\n.spinner .bounce1{\n-webkit-animation-delay:-0.32s;\nanimation-delay:-0.32s;\n}\n\n.spinner .bounce2{\n-webkit-animation-delay: -0.16s;\nanimation-delay: -0.16s;\n}\n\n@-webkit-keyframes bouncedelay {\n0%, 80%, 100% { -webkit-transform: scale(0.0) }\n40% { -webkit-transform: scale(1.0) }\n}\n\n@keyframes bouncedelay {\n0%, 80%, 100% {\ntransform: scale(0.0);\n-webkit-transform: scale(0.0);\n} 40% {\ntransform: scale(1.0);\n-webkit-transform: scale(1.0);\n}\n}",e=0,t=!1,o=!1,d=['<span class="ui-hidden">...</span>','.<span class="ui-hidden">..</span>','..<span class="ui-hidden">.</span>',"..."],s=function(){$.isNuomi||($(".mod-loading .loading-status").html(d[e++%4]),t&&setTimeout(s,300))},l=function(){o||(o=!0,n.setStyleText(a,"mod-loading-stylesheet"))},c=0,r=function(n){n=$(n||document.body);var a=n.data("loading-id");return a||(a=++c,n.data("loading-id",a).append($.formatString(i,{id:a}))),$("#mod-loading-"+a)};return{show:function(n,i){n=n||"",$.isNuomi&&(""==n&&(n=""),n+="..."),l();var a=r(i),o=a.find(".loading-img"),d=o.data("src");d&&setTimeout(function(){o.attr("src",d).data("src",null)},100),t=!0,e=0,s(),a.removeClass("ui-hide").find(".loading-text").html(n)},hide:function(n){r(n).addClass("ui-hide"),t=!1}}});
/*![lib/Timer.js]*/define("lib/Timer",["lib/EventObj"],function(t){var e=$.inherits(t,{constructor:function(i){t.call(this),this.tickerMs=i,this.prevTime=e.now(),this.timestamp=SYS_CONF.now+this.prevTime-SYS_CONF.jsNow;var n=this,s=function(){var t=e.now(),i=t-n.prevTime;n.prevTime=t,n.timestamp+=i,n.fire("tick",{delta:i,timestamp:n.timestamp,tickerMs:n.tickerMs}),setTimeout(s,n.tickerMs)};setTimeout(s,i)},getAccessTimestamp:function(){return SYS_CONF.now},getTimestamp:function(){return this.timestamp}});return e.now=function(){return(new Date).getTime()},e});
/*![lib/GeoLocation.js]*/define("lib/GeoLocation",["lib/base","common/weixinUtils","common/nuomiUtils"],function(t,i,s){var e=function(t,i){document.addEventListener?document.addEventListener(t,i,!1):document.attachEvent&&(document.attachEvent(t,i),document.attachEvent("on"+t,i))},n={errTask:"{id:#{id},mark:#{_mark},code:#{errCode},msg:#{errMsg}}",runningTask:"{id:#{id},mark:#{_mark},status:#{_status}}",successTask:"{id:#{id},mark:#{_mark},expend:#{expend},accuracy:#{accuracy}}"},a={TASK_TIME:2e3,TRY_TIMES:4,ALL_TIMEOUT:4e3},o=function(){return!(!window.WeiboJSBridge&&!navigator.geolocation)||!$.isWindows&&!$.isMac},r=function(t,i){this.id=t,this._mark=i,this.geoMgr=null,this.geoResult=null,this._isFinish=!1,this._status="standby"};r.prototype={_success:function(t){this._finish(t,!0,!0)},_error:function(t,i,s){var e={errCode:t,errMsg:i};this._finish(e,!1,s)},_finish:function(t,i,s){if(!this._isFinish){var e=(new Date).getTime();this._isFinish=!0,this._status="finish",t.mark=this._mark,t.success=i,t.expend=e-this.taskStartTimestamp,this.geoResult=t,this.geoResult.timestamp=e,this.geoMgr.onTaskFinish(this.id,t,s)}},run:function(){this.taskStartTimestamp=(new Date).getTime(),this.__run()},isFinished:function(){return this._isFinish},toString:function(){return this.geoResult?$.formatString(n[this.geoResult.success?"successTask":"errTask"],this,this.geoResult):$.formatString(n.runningTask,this)}};var c=$.inherits(r,{constructor:function(t){r.call(this,t,"wb")},__run:function(){var t=this;this._status="waitReady",window.WeiboJSBridge?this._doGeo():e("WeiboJSBridgeReady",function(){t._doGeo()})},_doGeo:function(){this._status="doing";var t=this;WeiboJSBridge.invoke("getLocation",{},function(i,s,e){if(s)t._success({latitude:i.lat,longitude:i.long,accuracy:-1});else{var n=WeiboJSBridge.STATUS_CODE||{},a="",o=!1;$.each("SERVICE_FORBIDDEN,USER_CANCELLED".split(","),function(t,i){if(n[i]==e)return a=i,o=!0,!1}),t._error(e,a,o)}})}}),u=$.inherits(r,{constructor:function(t){r.call(this,t,"wx")},__run:function(){var t=this;this._status="waitReady",i.getLocation(function(i,s){i?t._success(s):t._error(-1,s)})}}),d=$.inherits(r,{constructor:function(t){r.call(this,t,"h5")},__run:function(){var t,i,s=this;if(s._status="doing",window.SYS_CONF&&window.SYS_CONF.serverDectGps){var e=window.SYS_CONF.serverDectGps;return void setTimeout(function(){s._success({latitude:e.lat||e.latitude,longitude:e.lng||e.longitude||e.lon,accuracy:-1})},50)}return(t=$.getParam("lat",$.getParam("latitude")))&&(i=$.getParam("lng",$.getParam("longitude")))?void setTimeout(function(){s._success({latitude:parseFloat(t),longitude:parseFloat(i),accuracy:-1})},50):void navigator.geolocation.getCurrentPosition(function(t){var i=t.coords;s._success({latitude:i.latitude,longitude:i.longitude,accuracy:i.accuracy})},function(t){s._error(t.code,t.message,t.code==t.PERMISSION_DENIED)},{enableHighAccuracy:!0,maximumAge:0,timeout:a.TASK_TIME})}}),_=$.inherits(r,{constructor:function(t){r.call(this,t,"360")},__run:function(){var t=this;this._status="waitReady",window.plus?this._doGeo():e("plusready",function(){t._doGeo()})},_doGeo:function(){this._status="doing";var t=this;plus.geolocation.getCurrentPosition(function(i){var s=i.address&&(i.address.poiName||i.address.street);t._success({latitude:i.coords.latitude,longitude:i.coords.longitude,accuracy:i.coords.accuracy,poiName:s})},function(i){t._error(-1,i)},{timeout:3e3,enableHighAccuracy:!0})}}),h=$.inherits(r,{constructor:function(t){r.call(this,t,"baiduapp")},__run:function(){var t=this;this._status="waitReady";var i=function(){return window.clouda.device.geolocation?void clouda.device.geolocation.get({onsuccess:function(i){t._success(i)},onfail:function(i){t._error(i,i)}}):void setTimeout(i,50)};window.clouda&&clouda.device?i():this._error(-1,"undefined")}}),l=$.inherits(r,{constructor:function(t){r.call(this,t,"nuomi")},__run:function(){var t=this;this._status="waitReady",s.init(function(i){return i?void(window.BNJS.location&&window.BNJS.location.hasLocation?t._success({longitude:window.BNJS.location.longitude,latitude:window.BNJS.location.latitude,accuracy:-1}):t._error(-1,"hasnot")):void t._error(-1,"initfailed")})}}),g=function(){this._taskArr=[],this._taskCount=0,this._hadFinish=!1,this._taskTicker=null,this._successTaskId=null,this._startTimestamp=(new Date).getTime(),this._hadMakeReport=!1,this.expend=0};g.prototype={run:function(t){var i=this;if(this._callback=function(s){i._isCalled||(i._result=s,t(s),i._isCalled=!0)},this._result)return void t(this._result);setTimeout(function(){i._hadFinish||(i._hadFinish=!0,i._callback({success:!1,error:"unavailable"})),i._makeReport()},a.TRY_TIMES*a.TASK_TIME+a.ALL_TIMEOUT);var s=function(){var t=i._taskCount++;i._createTask(t,!(t%2)),i._taskCount<6&&(i._taskTicker=setTimeout(s,a.TASK_TIME))};s()},onTaskFinish:function(i,s,e){if(s.success&&!this._hadFinish){this._successTaskId=i,this._hadFinish=!0;var n=this,a=!1;if("360"==$.getParam("tn")||navigator.userAgent.indexOf("qihoo")>-1?a=3:"yingyongbao"==$.getParam("tn")?a=3:"baidu"==$.getParam("postype",!1)||window.SYS_CONF.serverDectGps||$.isNuomi||(a=1),a){var o=s.longitude+","+s.latitude;t.getBaiduConv(o,a,function(t){t&&t.length>0&&(s.longitude=t[0].x,s.latitude=t[0].y),n._callback(s)})}else n._callback(s)}e&&(clearTimeout(this._taskTicker),this._callback(s),this._makeReport())},_addTask:function(t){t.geoMgr=this,this._taskArr[t.id]=t,t.run()},_createTask:function(t,i){i&&$.isWeibo?this._addTask(new c(t)):i&&$.isWeixin&&SYS_CONF.sns&&SYS_CONF.sns.signedParam?this._addTask(new u(t)):"360"==$.getParam("tn")||navigator.userAgent.indexOf("qihoo")>-1?this._addTask(new _(t)):i&&$.isBaiduapp?this._addTask(new h(t)):i&&$.isNuomi?this._addTask(new l(t)):this._addTask(new d(t))},_makeReport:function(){if(!this._hadMakeReport){this._hadMakeReport=!0,this.expend=(new Date).getTime()-this._startTimestamp;var i,s=this;i=void 0==this._successTaskId?{success:!1}:{success:!0,taskId:s._successTaskId,taskCount:s._taskCount,accuracy:s._taskArr[s._successTaskId].geoResult.accuracy},i.expend=this.expend,i.tasks=this._taskArr.join(","),t.clickLog("sys_geolocation",i)}}};var f=null,m=function(t){return o()?(f||(f=new g),void f.run(t)):void setTimeout(function(){t({success:!1,error:"unsupport"})},10)};return{isSupportLocation:o,getGPSPosition:m}});
/*![lib/slider.js]*/!function(t){function e(){this.start={},this.delta={},this.curIndex=0,nextIndex=0,prevIndex=0,this.itemCount=0,this.containerWidth=0,this.intervalHandler=null,this.timeoutHandler=null,this.optionData=null,this.isMove=!1,this.containerElem=null}e.prototype={init:function(t){var e=this;tempElem=this,e.optionData=t,e.containerElem=$("#"+t.containerId),e.createEle(t),e.bindEvent(t),t.autoAnimate&&e.autoAnimate(t.animateTime)},autoAnimate:function(t){var e=this;e.itemCount<=1||(e.intervalHandler=setInterval(function(){e.curIndex++,e.curIndex==e.itemCount&&(e.curIndex=0),e.prevIndex=e.curIndex-1,e.nextIndex=e.curIndex+1,0==e.curIndex&&(e.prevIndex=e.itemCount-1),e.curIndex==e.itemCount-1&&(e.nextIndex=0),e.containerElem.find(".slider-item").css({"transition-duration":"0ms",transform:"translate("+e.containerWidth+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+e.containerWidth+"px, 0px) translateZ(0px)"}),e.setPosition(e.curIndex,0,400),e.setPosition(e.nextIndex,e.containerWidth,400),e.setPosition(e.prevIndex,-e.containerWidth,400),setTimeout(function(){3==e.itemCount?(e.setPosition(e.curIndex,0,0),e.setPosition(e.nextIndex,e.containerWidth,0),e.setPosition(e.prevIndex,2*e.containerWidth,0)):2==e.itemCount&&(e.setPosition(e.curIndex,0,0),e.setPosition(e.nextIndex,e.containerWidth,0))},500),e.containerElem.find(".slider-dots").find("b").css("background","#dfdfdf").eq(e.curIndex).css("background","#a8a8a8")},t))},createEle:function(t){var e=this,n=t.imgArr.length,i=t.imgLink||[];e.itemCount=n;var a=$("#"+t.containerId).width();e.containerWidth=a;for(var o=$("<div class='slider-group' style='width:"+a*n+"px;position:absolute;top:0;'></div>"),r=0,d="",s=0;s<n;s++)s?(r=a,d+="<b style='display: inline-block;margin: 0 4px;width: 6px;height: 6px;border-radius: 3px;background: #dfdfdf;'></b>"):d+="<b style='display: inline-block;margin: 0 4px;width: 6px;height: 6px;border-radius: 3px;background: #a8a8a8'></b>",o.append('<div class="slider-item" data-index="'+s+'" style="overflow:hidden;text-align:center;left:'+-a*s+"px;-webkit-transition: 0ms; transition: 0ms; -webkit-transform: translate("+r+"px, 0px) translateZ(0px);float:left;position:relative;width:"+a+'px"><a data-href="'+(i[s]||"")+'"><img style="width:100%" src="/static/bee/img/bee_default-97ffb2ba.png?v=1"  data-icon="'+t.imgArr[s]+'"></a></div>');0==n&&o.append('<div class="slider-item" style="overflow:hidden;text-align:center;left:0px;float:left;position:relative;width:'+a+'px"><a data-href=""><img style="width:100%" src="/static/bee/img/bee_default-97ffb2ba.png?v=1"  data-icon=""></a></div>');var x='<p class="slider-dots" style="position: absolute;bottom: 6px;left:50%;-webkit-transform:translate(-50%,0); padding: 0 6px; text-align: right;">'+d+"</p>";1==n&&(x=""),$("#"+t.containerId).append(o).append($(x))},bindEvent:function(t){var e=this,n=document.getElementById(t.containerId);n.addEventListener("touchstart",function(t){e.startFun(t,e)},!1),n.addEventListener("touchmove",function(t){e.moveFun(t,e)},!1),n.addEventListener("touchend",function(t){e.endFun(t,e)},!1)},startFun:function(t,e){if(e.isMove=!1,t.touches.length>1)return!1;var n=t.touches[0],i=new Date;e.start={startX:n.pageX,startY:n.pageY,startTime:i.getTime()},$(t.target).hasClass("slider-item")?e.curIndex=parseInt($(t.target).data("index")):e.curIndex=parseInt($(t.target).parents(".slider-item").data("index")),e.nextIndex=e.curIndex+1,e.prevIndex=e.curIndex-1,0==e.curIndex&&(e.prevIndex=e.itemCount-1),e.curIndex==e.itemCount-1&&(e.nextIndex=0),e.itemCount>=3?(e.setPosition(e.curIndex,0,0),e.setPosition(e.nextIndex,e.containerWidth,0),e.setPosition(e.prevIndex,-e.containerWidth,0)):e.setPosition(e.curIndex,0,0),e.optionData.autoAnimate&&(clearInterval(e.intervalHandler),clearTimeout(e.timeoutHandler))},moveFun:function(t,e){if(t.touches.length>1||t.scale&&1!==t.scale)return!1;e.isMove=!0;var n=t.touches[0];e.delta.x=n.pageX-e.start.startX,e.delta.y=n.pageY-e.start.startY;var i=Math.abs(e.delta.x)<Math.abs(e.delta.y);i||t.preventDefault(),e.itemCount>=3?(e.setPosition(e.curIndex,e.delta.x,0),e.setPosition(e.nextIndex,e.containerWidth+e.delta.x,0),e.setPosition(e.prevIndex,-e.containerWidth+e.delta.x,0)):2==e.itemCount&&(e.setPosition(e.curIndex,e.delta.x,0),e.delta.x<0?e.setPosition(e.nextIndex,e.containerWidth+e.delta.x,0):e.setPosition(e.prevIndex,-e.containerWidth+e.delta.x,0))},setPosition:function(t,e,n){var i=this;i.containerElem.find(".slider-item").eq(t).css({"transition-duration":n+"ms",transform:"translate("+e+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+e+"px, 0px) translateZ(0px)"})},endFun:function(t,e){if(e.isMove){var n=e.containerWidth;e.delta.x<0&&(n=-e.containerWidth),e.itemCount>=3?(e.setPosition(e.curIndex,n,400),e.setPosition(e.nextIndex,e.containerWidth+n,400),e.setPosition(e.prevIndex,-e.containerWidth+n,400)):2==e.itemCount&&(e.setPosition(e.curIndex,n,400),e.delta.x<0?e.setPosition(e.nextIndex,e.containerWidth+n,400):e.setPosition(e.prevIndex,-e.containerWidth+n,400)),n<0?e.containerElem.find(".slider-dots").find("b").css("background","#dfdfdf").eq(e.nextIndex).css("background","#a8a8a8"):e.containerElem.find(".slider-dots").find("b").css("background","#dfdfdf").eq(e.prevIndex).css("background","#a8a8a8"),e.optionData.autoAnimate&&(e.timeoutHandler=setTimeout(function(){n<0?e.curIndex=e.nextIndex:e.curIndex=e.prevIndex,e.nextIndex=e.curIndex+1,e.prevIndex=e.curIndex-1,0==e.curIndex&&(e.prevIndex=e.itemCount-1),e.curIndex==e.itemCount-1&&(e.nextIndex=0),e.containerElem.find(".slider-item").css({"transition-duration":"0ms",transform:"translate("+e.containerWidth+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+e.containerWidth+"px, 0px) translateZ(0px)"}),e.itemCount>=3?(e.setPosition(e.curIndex,0,0),e.setPosition(e.nextIndex,e.containerWidth,0),e.setPosition(e.prevIndex,2*e.containerWidth,0)):2==e.itemCount?(e.setPosition(e.curIndex,0,0),e.setPosition(e.nextIndex,e.containerWidth,0)):e.setPosition(e.curIndex,0,0),e.autoAnimate(e.optionData.animateTime)},2e3))}}},t.sliderObj=e}(window);
/*![lib/scrollDetector.js]*/!function(){function t(t){this.config=t,this.setContainer(t.container||document.body),this.setChildren(t.childSelector),this.buttomOffset=t.buttomOffset||100,this.onCheckViewport=t.onCheckViewport||function(){},this._init()}$.extend(t.prototype,{_init:function(){this._bindEvents()},_bindEvents:function(){var t=this;$(window).on("scroll",function(i){t.check()})},disable:function(){this.disabled=!0},enable:function(){this.disabled=!1},check:function(t){var i=document,e=$(i).height(),n=parseInt(this.getScrollTop(),10),o=parseInt($(window).height(),10);if(!(o+n+this.buttomOffset>e&&(this.onTouchEnd(),t)||this.disabled)){var r=this;this.viewportChecker&&clearTimeout(this.viewportChecker),this.viewportChecker=setTimeout(function(){r.checkViewport()},this.config.viewportCheckDelay||100)}},onTouchEnd:function(){},onCheckViewport:function(){},setContainer:function(t,i){var t=$(t);this.container=1==t.length?t:$(document.body),i&&this.setChildren(i)},setChildren:function(t){this.childSelector=t||this.childSelector,this.children=this._getChildren()},_getChildren:function(){return this.childSelector?this.container.find(this.childSelector):this.container[0].children},checkViewport:function(){var t=this.config.isDynamic?this._getChildren():this.children;0!=t.length&&this.isInsideViewPort(this.container)&&this.onCheckViewport(this.getViewportElements(t))},getViewportElements:function(t){function i(e,c){var h=Math.floor((e+c)/2);if(h==e)return[e,c];var s=r.isOutsideViewPort(t[h],n,o);return s.onTop?i(h,c):s.onBottom?i(e,h):h}var e=t.length-1,n=document.scrollTop,o=$(window).height(),r=this,c=i(0,e);return this._checkAdjacent(c,t)},_checkAdjacent:function(t,i){var e,n=[],o=t;if("number"==typeof t){for(n=[i[t]];e=i[--t];)this.isInsideViewPort(e)&&n.unshift(e);for(;e=i[++o];)this.isInsideViewPort(e)&&n.push(e);return n}return 2==t.length?(this.isInsideViewPort(i[t[0]])&&n.push(i[t[0]]),this.isInsideViewPort(i[t[1]])&&n.push(i[t[1]]),n):[]},isInsideViewPort:function(t){var i=this.isOutsideViewPort(t);return!(i.onTop||i.onBottom)},isOutsideViewPort:function(t,i,e){var t=$(t),n=t.offset(),o=n.height,i=i||this.getScrollTop(),e=e||$(window).height(),r=n.top+o<i,c=n.top>i+e;return{onTop:r,onBottom:c}},getScrollTop:function(){return document.body.scrollTop||document.documentElement.scrollTop}}),$(function(){$("img[data-real-src]").each(function(){var t=$(this),i=t.attr("data-real-src");t.attr("src",i)})}),window.ScrollerDetector=t,t.init=function(i){var e={childSelector:".app-item",dataName:"icon",viewportCheckDelay:200};for(var n in i)e[n]=i[n];var o=new t(e);return o.onCheckViewport=function(t){var i="img[data-"+e.dataName+"]",n="data-"+e.dataName;$(t).each(function(){var t=$(this).find(i),o=t.data(e.dataName);o&&(t.attr("src",o),t.removeAttr(n))})},o.check(),o}}();
/*![common/Dialog.js]*/define("common/Dialog",function(){var n=$.isNuomi?Bee.getMod("common/Dialog_nuomi"):$.isMobile?Bee.getMod("common/Dialog_phone"):Bee.getMod("common/Dialog_www"),o={show:function(o){return n.show(o)},hide:function(){return n.hide()},alert:function(o,e,i){return n.alert(o,e,i)},verify:function(o,e,i,t){return n.verify(o,e,i,t)},confirm:function(o,e,i){return n.confirm(o,e,i)},confirmText:function(o,e,i,t){return n.confirmText(o,e,i,t)},tip:function(o){return n.tip(o)},popSelect:function(o){return n.popSelect(o)}};return o});
/*![common/Dialog_phone.js]*/define("common/Dialog_phone",["lib/EventObj"],function(t){var o=null,n=null,i={wrap:'<div id="mod-dialog-wrap" class="mod-dialog #{customWrapClass} dialog-closed">\n<div class="dialog-mask"></div>\n<div class="dialog-vertical">\n</div>\n</div>',main:'<div class="dialog-main #{customClass}">\n<div class="dialog-title" style="display:#{titleDisplay}">#{title}</div>\n<table width="100%"><tr><td class="dialog-content" style="height:#{contentHeight};">#{content}</td></tr></table>\n<div class="dialog-buttons" style="display:#{buttonsDisplay}">#{buttonHtml}</div>\n</div>',button:'<div class="dialog-action dialog-btn #{isLastClass} dialog-btn-#{btnKey}" style="width:#{btnWidth}%" data-action="button" data-action-arg="#{btnKey}">#{btnText}</div>',option:'<div class="dialog-action dialog-option" data-action="option" data-action-arg="#{key}">#{name}</div>',linkOption:'<div class="dialog-option"><a href="#{url}">#{name}</a></div>'},e=function(t){var n=$(this),i="action_"+n.data("action"),e=n.data("action-arg")||void 0;o&&o[i]&&o[i](e)},a=$.inherits(t,{constructor:function(n){t.call(this),this.option=$.extend({title:!1,customClass:"",content:"",contentHeight:100,buttons:[]},n),this._show(),o=this},_show:function(){var t=this;if(0==$(".mod-dialog").length)$($.formatString(i.wrap,t.option)).appendTo("body"),n=$("#mod-dialog-wrap").delegate(".dialog-action","touchend",function(t){t.preventDefault()}),n.find(".dialog-vertical").delegate(".dialog-action",$.tapClick,e).delegate(".dialog-cmd",$.tapClick,function(o){o.stopPropagation(),o.preventDefault();var n=$(this).data("cmd");switch(n){case"close":t.close()}});else{var o=this.option.customWrapClass||"";$(".mod-dialog").removeClass().addClass("mod-dialog dialog-closed "+o)}var a=this.option,l=(a.title?60:0)+a.contentHeight+(a.buttons.length?60:0),s={title:a.title,titleDisplay:a.title?"block":"none",customClass:a.customClass,content:a.content,contentHeight:a.contentHeight+"px",buttonsDisplay:a.buttons.length?"block":"none",buttonHtml:function(){for(var t=[],o=0,n=a.buttons.length;o<n;o++){var e=a.buttons[o];t.push($.formatString(i.button,{isLastClass:o===n-1?"dialog-btn-last":"",btnKey:e.key,btnText:e.text,btnWidth:parseInt(100/n)-1}))}return t.join("")}};return n.css("display","block"),setTimeout(function(){n.removeClass("dialog-closed").find(".dialog-vertical").css("margin-top",-l/2+"px").html($.formatString(i.main,s)),t.option.callback&&t.option.callback()},30),this},action_button:function(t){for(var o=0,n=this.option.buttons,i=n.length;o<i;o++){var e=n[o];if(e.key==t){e.onClick&&e.onClick.call(this),e.autoClose&&this.close();break}}},action_option:function(t){t&&this.option.onselect(t),this.close()},close:function(){n.addClass("dialog-closed"),setTimeout(function(){n.css("display","none")},100),o=null}});a.alert=function(t,o,n){var i,e="";"function"==typeof o&&(i=o),"string"==typeof o&&(e=o),"function"==typeof n&&(i=n),"string"==typeof n&&(e=n);new a({title:!1,content:t,buttons:[{key:"ok",text:e,autoClose:!0,onClick:i}]})},a.confirm=function(t,o,n){new a({title:!1,content:t,buttons:[{key:"ok",text:"",autoClose:!0,onClick:o},{key:"cancel",text:"",autoClose:!0,onClick:n}]})},a.confirmText=function(t,o,n,i){new a({title:!1,content:t,buttons:[{key:"ok",text:i?i[0]:"",autoClose:!0,onClick:o},{key:"cancel",text:i?i[1]:"",autoClose:!0,onClick:n}]})},a.verify=function(t,o,n,i){new a({title:t||"",content:"<p>"+o+"</p><div class='dialog-input-container'><div class='dialog-input-wrap'><input class='dialog-verify-code' type='tel' placeholder=''/></div><div class='dialog-input-btn dialog-action' data-action='button'></div></div>",customClass:"dialog-verify",buttons:[{key:"ok",text:"",autoClose:!0,onClick:i}]});$(document.body).on($.tapClick,".dialog-verify .dialog-input-btn",function(){n()})},a.tip=function(t){var o=new a({title:!1,content:t,customWrapClass:"mod-dialog-tip"});setTimeout(function(){o.close()},1e3)},a.show=function(t){new a(t)},a.hide=function(){o&&o.close()},a.popSelect=function(t){var o=$.map(t.items,function(t,o){var n=$.isString(t.url)?i.linkOption:i.option;return $.formatString(n,t)}).join("");new a({title:t.title,titleClose:!1,customWrapClass:"mod-dialog-popSelect",content:o,onselect:t.onselect,buttons:[{text:"",key:"cancel",autoClose:!0,onClick:t.oncancel}]})};var l=Bee.getMod("lib/BackForwardHunter",!0);return l&&l.getInstance().on("beforeFire",function(t){o&&t.preventDefault()}),a});
